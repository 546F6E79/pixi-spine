/*!
 * pixi-spine - v1.2.0
 * Compiled Wed Oct 19 2016 21:50:03 GMT+0300 (RTZ 2 (зима))
 *
 * pixi-spine is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(e.PIXI||(e.PIXI={})).spine=t()}}(function(){return function t(e,n,r){function a(o,s){if(!n[o]){if(!e[o]){var h="function"==typeof require&&require;if(!s&&h)return h(o,!0);if(i)return i(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[o]={exports:{}};e[o][0].call(u.exports,function(t){var n=e[o][1][t];return a(n?n:t)},u,u.exports,t,e,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)a(r[o]);return a}({1:[function(t,e,n){"use strict";function r(){var t=this.parent.worldTransform,e=this.worldTransform,n=this.localTransform;e.a=n.a*t.a+n.b*t.c,e.b=n.a*t.b+n.b*t.d,e.c=n.c*t.a+n.d*t.c,e.d=n.c*t.b+n.d*t.d,e.tx=n.tx*t.a+n.ty*t.c+t.tx,e.ty=n.tx*t.b+n.ty*t.d+t.ty,this.worldAlpha=this.alpha*this.parent.worldAlpha,this._currentBounds=null}var a=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},i=t("./core"),o=PIXI.TransformBase;i.Bone.yDown=!0;var s=[0,0,0],h=function(t){function e(e){t.call(this,e)}return a(e,t),e}(PIXI.Sprite);n.SpineSprite=h;var l=function(t){function e(e,n,r,a,i){t.call(this,e,n,r,a,i)}return a(e,t),e}(PIXI.mesh.Mesh);n.SpineMesh=l;var u=function(t){function e(e){if(t.call(this),this.hackTextureBySlotName=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);var r=this.skeleton.findSlotIndex(t);return r!=-1&&this.hackTextureBySlotIndex(r,e,n)},!e)throw new Error("The spineData param is required.");if("string"==typeof e)throw new Error('spineData param cant be string. Please use PIXI.spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');this.spineData=e,this.skeleton=new i.Skeleton(e),this.skeleton.updateWorldTransform(),this.stateData=new i.AnimationStateData(e),this.state=new i.AnimationState(this.stateData),this.slotContainers=[];for(var n=0,r=this.skeleton.slots.length;n<r;n++){var a=this.skeleton.slots[n],o=a.attachment,s=new PIXI.Container;if(this.slotContainers.push(s),this.addChild(s),o instanceof i.RegionAttachment){var h=o.region.name,l=this.createSprite(a,o,h);a.currentSprite=l,a.currentSpriteName=h,s.addChild(l)}else{if(!(o instanceof i.MeshAttachment))continue;var u=this.createMesh(a,o);a.currentMesh=u,a.currentMeshName=o.name,s.addChild(u)}}this.autoUpdate=!0,this.tintRgb=new Float32Array([1,1,1])}return a(e,t),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this.updateTransform===e.prototype.autoUpdateTransform},set:function(t){this.updateTransform=t?e.prototype.autoUpdateTransform:PIXI.Container.prototype.updateTransform},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return PIXI.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=PIXI.utils.hex2rgb(t,this.tintRgb)},enumerable:!0,configurable:!0}),e.prototype.update=function(t){this.state.update(t),this.state.apply(this.skeleton),this.skeleton.updateWorldTransform();for(var e=this.skeleton.drawOrder,n=this.skeleton.slots,a=0,h=e.length;a<h;a++)this.children[a]=this.slotContainers[e[a].data.index];var l=this.tintRgb[0],u=this.tintRgb[1],c=this.tintRgb[2];for(a=0,h=n.length;a<h;a++){var f=n[a],p=f.attachment,d=this.slotContainers[a];if(p){var m=p.color;if(p instanceof i.RegionAttachment){var g=p.region;if(g){var v=g;if(!f.currentSpriteName||f.currentSpriteName!==v.name){var y=v.name;if(f.currentSprite&&(f.currentSprite.visible=!1),f.sprites=f.sprites||{},void 0!==f.sprites[y])f.sprites[y].visible=!0;else{var x=this.createSprite(f,p,y);d.addChild(x)}f.currentSprite=f.sprites[y],f.currentSpriteName=y}}if(d.transform){var M=d.transform,E=void 0;d.transform.matrix2d?(E=M.matrix2d,M._dirtyVersion++,M.version=M._dirtyVersion,M.isStatic=!0,M.operMode=0):o?(M.position&&(M=new PIXI.TransformBase,d.transform=M),E=M.localTransform):(M._dirtyLocal||(M=new PIXI.TransformStatic,d.transform=M),E=M.localTransform,M._dirtyParentVersion=-1,M._dirtyLocal=1,M._versionLocal=1),f.bone.matrix.copy(E)}else{var T=d.localTransform||new PIXI.Matrix;f.bone.matrix.copy(T),d.localTransform=T,d.displayObjectUpdateTransform=r}s[0]=l*f.color.r*m.r,s[1]=u*f.color.g*m.g,s[2]=c*f.color.b*m.b,f.currentSprite.tint=PIXI.utils.rgb2hex(s),f.currentSprite.blendMode=f.blendMode}else{if(!(p instanceof i.MeshAttachment)){d.visible=!1;continue}if(!f.currentMeshName||f.currentMeshName!==p.name){var w=p.name;if(f.currentMesh&&(f.currentMesh.visible=!1),f.meshes=f.meshes||{},void 0!==f.meshes[w])f.meshes[w].visible=!0;else{var b=this.createMesh(f,p);d.addChild(b)}f.currentMesh=f.meshes[w],f.currentMeshName=w}if(p.computeWorldVertices(f,f.currentMesh.vertices),"3"!==PIXI.VERSION[0]){var A=f.currentMesh.tintRgb;A[0]=l*f.color.r*m.r,A[1]=u*f.color.g*m.g,A[2]=c*f.color.b*m.b}f.currentMesh.blendMode=f.blendMode}d.visible=!0,d.alpha=f.color.a}else d.visible=!1}},e.prototype.setSpriteRegion=function(t,e,n){e.region=n,e.texture=n.texture,n.size?(e.scale.x=n.size.width/n.originalWidth,e.scale.y=-n.size.height/n.originalHeight):(e.scale.x=t.scaleX*t.width/n.originalWidth,e.scale.y=-t.scaleY*t.height/n.originalHeight)},e.prototype.setMeshRegion=function(t,e,n){e.region=n,e.texture=n.texture,t.updateUVs(n,e.uvs),e.dirty++},e.prototype.autoUpdateTransform=function(){if(e.globalAutoUpdate){this.lastTime=this.lastTime||Date.now();var t=.001*(Date.now()-this.lastTime);this.lastTime=Date.now(),this.update(t)}else this.lastTime=0;PIXI.Container.prototype.updateTransform.call(this)},e.prototype.createSprite=function(t,e,n){var r=e.region;t.tempAttachment===e&&(r=t.tempRegion,t.tempAttachment=null,t.tempRegion=null);var a=r.texture,o=new h(a);return o.rotation=e.rotation*i.MathUtils.degRad,o.anchor.x=.5,o.anchor.y=.5,o.position.x=e.x,o.position.y=e.y,o.alpha=e.color.a,o.region=e.region,this.setSpriteRegion(e,o,e.region),t.sprites=t.sprites||{},t.sprites[n]=o,o},e.prototype.createMesh=function(t,e){var n=e.region;t.tempAttachment===e&&(n=t.tempRegion,t.tempAttachment=null,t.tempRegion=null);var r=new l(n.texture,new Float32Array(e.regionUVs.length),new Float32Array(e.regionUVs.length),new Uint16Array(e.triangles),PIXI.mesh.Mesh.DRAW_MODES.TRIANGLES);return r.canvasPadding=1.5,r.alpha=e.color.a,r.region=e.region,this.setMeshRegion(e,r,n),t.meshes=t.meshes||{},t.meshes[e.name]=r,r},e.prototype.hackTextureBySlotIndex=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);var r=this.skeleton.slots[t];if(!r)return!1;var a=r.attachment,o=a.region;return e&&(o=new i.TextureRegion,o.texture=e,o.size=n),r.currentSprite&&r.currentSprite.region!=o?(this.setSpriteRegion(a,r.currentSprite,o),r.currentSprite.region=o):r.currentMesh&&r.currentMesh.region!=o?this.setMeshRegion(a,r.currentMesh,o):(r.tempRegion=o,r.tempAttachment=a),!0},e.globalAutoUpdate=!0,e}(PIXI.Container);n.Spine=u},{"./core":34}],2:[function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=t("./Utils"),i=t("./attachments"),o=function(){function t(t,e,n){if(null==t)throw new Error("name cannot be null.");if(null==e)throw new Error("timelines cannot be null.");this.name=t,this.timelines=e,this.duration=n}return t.prototype.apply=function(t,e,n,r,a){if(null==t)throw new Error("skeleton cannot be null.");r&&0!=this.duration&&(n%=this.duration,e>0&&(e%=this.duration));for(var i=this.timelines,o=0,s=i.length;o<s;o++)i[o].apply(t,e,n,a,1)},t.prototype.mix=function(t,e,n,r,a,i){if(null==t)throw new Error("skeleton cannot be null.");r&&0!=this.duration&&(n%=this.duration,e>0&&(e%=this.duration));for(var o=this.timelines,s=0,h=o.length;s<h;s++)o[s].apply(t,e,n,a,i)},t.binarySearch=function(t,e,n){void 0===n&&(n=1);var r=0,a=t.length/n-2;if(0==a)return n;for(var i=a>>>1;;){if(t[(i+1)*n]<=e?r=i+1:a=i,r==a)return(r+1)*n;i=r+a>>>1}},t.linearSearch=function(t,e,n){for(var r=0,a=t.length-n;r<=a;r+=n)if(t[r]>e)return r;return-1},t}();n.Animation=o;var s=function(){function t(e){if(e<=0)throw new Error("frameCount must be > 0: "+e);this.curves=a.Utils.newFloatArray((e-1)*t.BEZIER_SIZE)}return t.prototype.getFrameCount=function(){return this.curves.length/t.BEZIER_SIZE+1},t.prototype.setLinear=function(e){this.curves[e*t.BEZIER_SIZE]=t.LINEAR},t.prototype.setStepped=function(e){this.curves[e*t.BEZIER_SIZE]=t.STEPPED},t.prototype.getCurveType=function(e){var n=e*t.BEZIER_SIZE;if(n==this.curves.length)return t.LINEAR;var r=this.curves[n];return r==t.LINEAR?t.LINEAR:r==t.STEPPED?t.STEPPED:t.BEZIER},t.prototype.setCurve=function(e,n,r,a,i){var o=.03*(2*-n+a),s=.03*(2*-r+i),h=.006*(3*(n-a)+1),l=.006*(3*(r-i)+1),u=2*o+h,c=2*s+l,f=.3*n+o+.16666667*h,p=.3*r+s+.16666667*l,d=e*t.BEZIER_SIZE,m=this.curves;m[d++]=t.BEZIER;for(var g=f,v=p,y=d+t.BEZIER_SIZE-1;d<y;d+=2)m[d]=g,m[d+1]=v,f+=u,p+=c,u+=h,c+=l,g+=f,v+=p},t.prototype.getCurvePercent=function(e,n){n=a.MathUtils.clamp(n,0,1);var r=this.curves,i=e*t.BEZIER_SIZE,o=r[i];if(o==t.LINEAR)return n;if(o==t.STEPPED)return 0;i++;for(var s=0,h=i,l=i+t.BEZIER_SIZE-1;i<l;i+=2)if(s=r[i],s>=n){var u=void 0,c=void 0;return i==h?(u=0,c=0):(u=r[i-2],c=r[i-1]),c+(r[i+1]-c)*(n-u)/(s-u)}var f=r[i-1];return f+(1-f)*(n-s)/(1-s)},t.LINEAR=0,t.STEPPED=1,t.BEZIER=2,t.BEZIER_SIZE=19,t}();n.CurveTimeline=s;var h=function(t){function e(e){t.call(this,e),this.frames=a.Utils.newFloatArray(e<<1)}return r(e,t),e.prototype.setFrame=function(t,n,r){t<<=1,this.frames[t]=n,this.frames[t+e.ROTATION]=r},e.prototype.apply=function(t,n,r,a,i){var s=this.frames;if(!(r<s[0])){var h=t.bones[this.boneIndex];if(r>=s[s.length-e.ENTRIES]){for(var l=h.data.rotation+s[s.length+e.PREV_ROTATION]-h.rotation;l>180;)l-=360;for(;l<-180;)l+=360;return void(h.rotation+=l*i)}for(var u=o.binarySearch(s,r,e.ENTRIES),c=s[u+e.PREV_ROTATION],f=s[u],p=this.getCurvePercent((u>>1)-1,1-(r-f)/(s[u+e.PREV_TIME]-f)),d=s[u+e.ROTATION]-c;d>180;)d-=360;for(;d<-180;)d+=360;for(d=h.data.rotation+(c+d*p)-h.rotation;d>180;)d-=360;for(;d<-180;)d+=360;h.rotation+=d*i}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_ROTATION=-1,e.ROTATION=1,e}(s);n.RotateTimeline=h;var l=function(t){function e(n){t.call(this,n),this.frames=a.Utils.newFloatArray(n*e.ENTRIES)}return r(e,t),e.prototype.setFrame=function(t,n,r,a){t*=e.ENTRIES,this.frames[t]=n,this.frames[t+e.X]=r,this.frames[t+e.Y]=a},e.prototype.apply=function(t,n,r,a,i){var s=this.frames;if(!(r<s[0])){var h=t.bones[this.boneIndex];if(r>=s[s.length-e.ENTRIES])return h.x+=(h.data.x+s[s.length+e.PREV_X]-h.x)*i,void(h.y+=(h.data.y+s[s.length+e.PREV_Y]-h.y)*i);var l=o.binarySearch(s,r,e.ENTRIES),u=s[l+e.PREV_X],c=s[l+e.PREV_Y],f=s[l],p=this.getCurvePercent(l/e.ENTRIES-1,1-(r-f)/(s[l+e.PREV_TIME]-f));h.x+=(h.data.x+u+(s[l+e.X]-u)*p-h.x)*i,h.y+=(h.data.y+c+(s[l+e.Y]-c)*p-h.y)*i}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_X=-2,e.PREV_Y=-1,e.X=1,e.Y=2,e}(s);n.TranslateTimeline=l;var u=function(t){function e(e){t.call(this,e)}return r(e,t),e.prototype.apply=function(t,n,r,a,i){var s=this.frames;if(!(r<s[0])){var h=t.bones[this.boneIndex];if(r>=s[s.length-e.ENTRIES])return h.scaleX+=(h.data.scaleX*s[s.length+e.PREV_X]-h.scaleX)*i,void(h.scaleY+=(h.data.scaleY*s[s.length+e.PREV_Y]-h.scaleY)*i);var l=o.binarySearch(s,r,e.ENTRIES),u=s[l+e.PREV_X],c=s[l+e.PREV_Y],f=s[l],p=this.getCurvePercent(l/e.ENTRIES-1,1-(r-f)/(s[l+e.PREV_TIME]-f));h.scaleX+=(h.data.scaleX*(u+(s[l+e.X]-u)*p)-h.scaleX)*i,h.scaleY+=(h.data.scaleY*(c+(s[l+e.Y]-c)*p)-h.scaleY)*i}},e}(l);n.ScaleTimeline=u;var c=function(t){function e(e){t.call(this,e)}return r(e,t),e.prototype.apply=function(t,n,r,a,i){var s=this.frames;if(!(r<s[0])){var h=t.bones[this.boneIndex];if(r>=s[s.length-e.ENTRIES])return h.shearX+=(h.data.shearX+s[s.length+e.PREV_X]-h.shearX)*i,void(h.shearY+=(h.data.shearY+s[s.length+e.PREV_Y]-h.shearY)*i);var l=o.binarySearch(s,r,e.ENTRIES),u=s[l+e.PREV_X],c=s[l+e.PREV_Y],f=s[l],p=this.getCurvePercent(l/e.ENTRIES-1,1-(r-f)/(s[l+e.PREV_TIME]-f));h.shearX+=(h.data.shearX+(u+(s[l+e.X]-u)*p)-h.shearX)*i,h.shearY+=(h.data.shearY+(c+(s[l+e.Y]-c)*p)-h.shearY)*i}},e}(l);n.ShearTimeline=c;var f=function(t){function e(n){t.call(this,n),this.frames=a.Utils.newFloatArray(n*e.ENTRIES)}return r(e,t),e.prototype.setFrame=function(t,n,r,a,i,o){t*=e.ENTRIES,this.frames[t]=n,this.frames[t+e.R]=r,this.frames[t+e.G]=a,this.frames[t+e.B]=i,this.frames[t+e.A]=o},e.prototype.apply=function(t,n,r,a,i){var s=this.frames;if(!(r<s[0])){var h=0,l=0,u=0,c=0;if(r>=s[s.length-e.ENTRIES]){var f=s.length;h=s[f+e.PREV_R],l=s[f+e.PREV_G],u=s[f+e.PREV_B],c=s[f+e.PREV_A]}else{var p=o.binarySearch(s,r,e.ENTRIES);h=s[p+e.PREV_R],l=s[p+e.PREV_G],u=s[p+e.PREV_B],c=s[p+e.PREV_A];var d=s[p],m=this.getCurvePercent(p/e.ENTRIES-1,1-(r-d)/(s[p+e.PREV_TIME]-d));h+=(s[p+e.R]-h)*m,l+=(s[p+e.G]-l)*m,u+=(s[p+e.B]-u)*m,c+=(s[p+e.A]-c)*m}var g=t.slots[this.slotIndex].color;i<1?g.add((h-g.r)*i,(l-g.g)*i,(u-g.b)*i,(c-g.a)*i):g.set(h,l,u,c)}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_R=-4,e.PREV_G=-3,e.PREV_B=-2,e.PREV_A=-1,e.R=1,e.G=2,e.B=3,e.A=4,e}(s);n.ColorTimeline=f;var p=function(){function t(t){this.frames=a.Utils.newFloatArray(t),this.attachmentNames=new Array(t)}return t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.attachmentNames[t]=n},t.prototype.apply=function(t,e,n,r,a){var i=this.frames;if(!(n<i[0])){var s=0;s=n>=i[i.length-1]?i.length-1:o.binarySearch(i,n,1)-1;var h=this.attachmentNames[s];t.slots[this.slotIndex].setAttachment(null==h?null:t.getAttachment(this.slotIndex,h))}},t}();n.AttachmentTimeline=p;var d=function(){function t(t){this.frames=a.Utils.newFloatArray(t),this.events=new Array(t)}return t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(t,e){this.frames[t]=e.time,this.events[t]=e},t.prototype.apply=function(t,e,n,r,a){if(null!=r){var i=this.frames,s=this.frames.length;if(e>n)this.apply(t,e,Number.MAX_VALUE,r,a),e=-1;else if(e>=i[s-1])return;if(!(n<i[0])){var h=0;if(e<i[0])h=0;else{h=o.binarySearch(i,e);for(var l=i[h];h>0&&i[h-1]==l;)h--}for(;h<s&&n>=i[h];h++)r.push(this.events[h])}}},t}();n.EventTimeline=d;var m=function(){function t(t){this.frames=a.Utils.newFloatArray(t),this.drawOrders=new Array(t)}return t.prototype.getFrameCount=function(){return this.frames.length},t.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.drawOrders[t]=n},t.prototype.apply=function(t,e,n,r,i){var s=this.frames;if(!(n<s[0])){var h=0;h=n>=s[s.length-1]?s.length-1:o.binarySearch(s,n)-1;var l=t.drawOrder,u=t.slots,c=this.drawOrders[h];if(null==c)a.Utils.arrayCopy(u,0,l,0,u.length);else for(var f=0,p=c.length;f<p;f++)l[f]=u[c[f]]}},t}();n.DrawOrderTimeline=m;var g=function(t){function e(e){t.call(this,e),this.frames=a.Utils.newFloatArray(e),this.frameVertices=new Array(e)}return r(e,t),e.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.frameVertices[t]=n},e.prototype.apply=function(t,e,n,r,s){var h=t.slots[this.slotIndex],l=h.getAttachment();if(l instanceof i.VertexAttachment&&l.applyDeform(this.attachment)){var u=this.frames;if(!(n<u[0])){var c=this.frameVertices,f=c[0].length,p=h.attachmentVertices;p.length!=f&&(s=1);var d=a.Utils.setArraySize(p,f);if(n>=u[u.length-1]){var m=c[u.length-1];if(s<1)for(var g=0;g<f;g++)d[g]+=(m[g]-d[g])*s;else a.Utils.arrayCopy(m,0,d,0,f)}else{var v=o.binarySearch(u,n),y=c[v-1],x=c[v],M=u[v],E=this.getCurvePercent(v-1,1-(n-M)/(u[v-1]-M));if(s<1)for(var g=0;g<f;g++){var T=y[g];d[g]+=(T+(x[g]-T)*E-d[g])*s}else for(var g=0;g<f;g++){var T=y[g];d[g]=T+(x[g]-T)*E}}}}},e}(s);n.DeformTimeline=g;var v=function(t){function e(n){t.call(this,n),this.frames=a.Utils.newFloatArray(n*e.ENTRIES)}return r(e,t),e.prototype.setFrame=function(t,n,r,a){t*=e.ENTRIES,this.frames[t]=n,this.frames[t+e.MIX]=r,this.frames[t+e.BEND_DIRECTION]=a},e.prototype.apply=function(t,n,r,a,i){var s=this.frames;if(!(r<s[0])){var h=t.ikConstraints[this.ikConstraintIndex];if(r>=s[s.length-e.ENTRIES])return h.mix+=(s[s.length+e.PREV_MIX]-h.mix)*i,void(h.bendDirection=Math.floor(s[s.length+e.PREV_BEND_DIRECTION]));var l=o.binarySearch(s,r,e.ENTRIES),u=s[l+e.PREV_MIX],c=s[l],f=this.getCurvePercent(l/e.ENTRIES-1,1-(r-c)/(s[l+e.PREV_TIME]-c));h.mix+=(u+(s[l+e.MIX]-u)*f-h.mix)*i,h.bendDirection=Math.floor(s[l+e.PREV_BEND_DIRECTION])}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_MIX=-2,e.PREV_BEND_DIRECTION=-1,e.MIX=1,e.BEND_DIRECTION=2,e}(s);n.IkConstraintTimeline=v;var y=function(t){function e(n){t.call(this,n),this.frames=a.Utils.newFloatArray(n*e.ENTRIES)}return r(e,t),e.prototype.setFrame=function(t,n,r,a,i,o){t*=e.ENTRIES,this.frames[t]=n,this.frames[t+e.ROTATE]=r,this.frames[t+e.TRANSLATE]=a,this.frames[t+e.SCALE]=i,this.frames[t+e.SHEAR]=o},e.prototype.apply=function(t,n,r,a,i){var s=this.frames;if(!(r<s[0])){var h=t.transformConstraints[this.transformConstraintIndex];if(r>=s[s.length-e.ENTRIES]){var l=s.length;return h.rotateMix+=(s[l+e.PREV_ROTATE]-h.rotateMix)*i,h.translateMix+=(s[l+e.PREV_TRANSLATE]-h.translateMix)*i,h.scaleMix+=(s[l+e.PREV_SCALE]-h.scaleMix)*i,void(h.shearMix+=(s[l+e.PREV_SHEAR]-h.shearMix)*i)}var u=o.binarySearch(s,r,e.ENTRIES),c=s[u],f=this.getCurvePercent(u/e.ENTRIES-1,1-(r-c)/(s[u+e.PREV_TIME]-c)),p=s[u+e.PREV_ROTATE],d=s[u+e.PREV_TRANSLATE],m=s[u+e.PREV_SCALE],g=s[u+e.PREV_SHEAR];h.rotateMix+=(p+(s[u+e.ROTATE]-p)*f-h.rotateMix)*i,h.translateMix+=(d+(s[u+e.TRANSLATE]-d)*f-h.translateMix)*i,h.scaleMix+=(m+(s[u+e.SCALE]-m)*f-h.scaleMix)*i,h.shearMix+=(g+(s[u+e.SHEAR]-g)*f-h.shearMix)*i}},e.ENTRIES=5,e.PREV_TIME=-5,e.PREV_ROTATE=-4,e.PREV_TRANSLATE=-3,e.PREV_SCALE=-2,e.PREV_SHEAR=-1,e.ROTATE=1,e.TRANSLATE=2,e.SCALE=3,e.SHEAR=4,e}(s);n.TransformConstraintTimeline=y;var x=function(t){function e(n){t.call(this,n),this.frames=a.Utils.newFloatArray(n*e.ENTRIES)}return r(e,t),e.prototype.setFrame=function(t,n,r){t*=e.ENTRIES,this.frames[t]=n,this.frames[t+e.VALUE]=r},e.prototype.apply=function(t,n,r,a,i){var s=this.frames;if(!(r<s[0])){var h=t.pathConstraints[this.pathConstraintIndex];if(r>=s[s.length-e.ENTRIES]){var l=s.length;return void(h.position+=(s[l+e.PREV_VALUE]-h.position)*i)}var u=o.binarySearch(s,r,e.ENTRIES),c=s[u+e.PREV_VALUE],f=s[u],p=this.getCurvePercent(u/e.ENTRIES-1,1-(r-f)/(s[u+e.PREV_TIME]-f));h.position+=(c+(s[u+e.VALUE]-c)*p-h.position)*i}},e.ENTRIES=2,e.PREV_TIME=-2,e.PREV_VALUE=-1,e.VALUE=1,e}(s);n.PathConstraintPositionTimeline=x;var M=function(t){function e(e){t.call(this,e)}return r(e,t),e.prototype.apply=function(t,n,r,a,i){var s=this.frames;if(!(r<s[0])){var h=t.pathConstraints[this.pathConstraintIndex];if(r>=s[s.length-e.ENTRIES]){var l=s.length;return void(h.spacing+=(s[l+e.PREV_VALUE]-h.spacing)*i)}var u=o.binarySearch(s,r,e.ENTRIES),c=s[u+e.PREV_VALUE],f=s[u],p=this.getCurvePercent(u/e.ENTRIES-1,1-(r-f)/(s[u+e.PREV_TIME]-f));h.spacing+=(c+(s[u+e.VALUE]-c)*p-h.spacing)*i}},e}(x);n.PathConstraintSpacingTimeline=M;var E=function(t){function e(n){t.call(this,n),this.frames=a.Utils.newFloatArray(n*e.ENTRIES)}return r(e,t),e.prototype.setFrame=function(t,n,r,a){t*=e.ENTRIES,this.frames[t]=n,this.frames[t+e.ROTATE]=r,this.frames[t+e.TRANSLATE]=a},e.prototype.apply=function(t,n,r,a,i){var s=this.frames;if(!(r<s[0])){var h=t.pathConstraints[this.pathConstraintIndex];if(r>=s[s.length-e.ENTRIES]){var l=s.length;return h.rotateMix+=(s[l+e.PREV_ROTATE]-h.rotateMix)*i,void(h.translateMix+=(s[l+e.PREV_TRANSLATE]-h.translateMix)*i)}var u=o.binarySearch(s,r,e.ENTRIES),c=s[u+e.PREV_ROTATE],f=s[u+e.PREV_TRANSLATE],p=s[u],d=this.getCurvePercent(u/e.ENTRIES-1,1-(r-p)/(s[u+e.PREV_TIME]-p));h.rotateMix+=(c+(s[u+e.ROTATE]-c)*d-h.rotateMix)*i,h.translateMix+=(f+(s[u+e.TRANSLATE]-f)*d-h.translateMix)*i}},e.ENTRIES=3,e.PREV_TIME=-3,e.PREV_ROTATE=-2,e.PREV_TRANSLATE=-1,e.ROTATE=1,e.TRANSLATE=2,e}(s);n.PathConstraintMixTimeline=E},{"./Utils":26,"./attachments":33}],3:[function(t,e,n){"use strict";var r=t("./Utils"),a=function(){function t(t){if(void 0===t&&(t=null),this.tracks=new Array,this.events=new Array,this.timeScale=1,null==t)throw new Error("data cannot be null.");this.data=t}return t.prototype.update=function(t){t*=this.timeScale;for(var e=0;e<this.tracks.length;e++){var n=this.tracks[e];if(null!=n){var r=n.next;if(null!=r){var a=n.lastTime-r.delay;if(a>=0){var i=t*r.timeScale;r.time=a+i,n.time+=t*n.timeScale,this.setCurrent(e,r),r.time-=i,n=r}}else if(!n.loop&&n.lastTime>=n.endTime){this.clearTrack(e);continue}if(n.time+=t*n.timeScale,null!=n.previous){var o=t*n.previous.timeScale;n.previous.time+=o,n.mixTime+=o}}}},t.prototype.apply=function(t){for(var e=this.events,n=0;n<this.tracks.length;n++){var a=this.tracks[n];if(null!=a){e.length=0;var i=a.time,o=a.lastTime,s=a.endTime,h=a.loop;!h&&i>s&&(i=s);var l=a.previous;if(null==l)a.animation.mix(t,o,i,h,e,a.mix);else{var u=l.time;!l.loop&&u>l.endTime&&(u=l.endTime),l.animation.apply(t,u,u,l.loop,null);var c=a.mixTime/a.mixDuration*a.mix;c>=1&&(c=1,a.previous=null),a.animation.mix(t,o,i,h,e,c)}for(var f=0,p=e.length;f<p;f++){var d=e[f];a.onEvent&&a.onEvent(n,d),this.onEvent&&this.onEvent(n,d)}if(h?o%s>i%s:o<s&&i>=s){var m=r.MathUtils.toInt(i/s);a.onComplete&&a.onComplete(n,m),this.onComplete&&this.onComplete(n,m)}a.lastTime=a.time}}},t.prototype.clearTracks=function(){for(var t=0,e=this.tracks.length;t<e;t++)this.clearTrack(t);this.tracks.length=0},t.prototype.clearTrack=function(t){if(!(t>=this.tracks.length)){var e=this.tracks[t];null!=e&&(e.onEnd&&e.onEnd(t),this.onEnd&&this.onEnd(t),this.tracks[t]=null,this.freeAll(e))}},t.prototype.freeAll=function(t){for(;null!=t;){var e=t.next;t=e}},t.prototype.expandToIndex=function(t){return t<this.tracks.length?this.tracks[t]:(r.Utils.setArraySize(this.tracks,t-this.tracks.length+1,null),this.tracks.length=t+1,null)},t.prototype.setCurrent=function(t,e){var n=this.expandToIndex(t);if(null!=n){var r=n.previous;n.previous=null,e.onEnd&&e.onEnd(t),this.onEnd&&this.onEnd(t),e.mixDuration=this.data.getMix(n.animation,e.animation),e.mixDuration>0&&(e.mixTime=0,null!=r&&n.mixTime/n.mixDuration<.5?(e.previous=r,r=n):e.previous=n)}this.tracks[t]=e,e.onStart&&e.onStart(t),this.onStart&&this.onStart(t)},t.prototype.setAnimation=function(t,e,n){var r=this.data.skeletonData.findAnimation(e);if(null==r)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,r,n)},t.prototype.setAnimationWith=function(t,e,n){var r=this.expandToIndex(t);null!=r&&this.freeAll(r.next);var a=new i;return a.animation=e,a.loop=n,a.endTime=e.duration,this.setCurrent(t,a),a},t.prototype.addAnimation=function(t,e,n,r){var a=this.data.skeletonData.findAnimation(e);if(null==a)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,a,n,r)},t.prototype.hasAnimation=function(t){var e=this.data.skeletonData.findAnimation(t);return null!==e},t.prototype.addAnimationWith=function(t,e,n,r){var a=new i;a.animation=e,a.loop=n,a.endTime=e.duration;var o=this.expandToIndex(t);if(null!=o){for(;null!=o.next;)o=o.next;o.next=a}else this.tracks[t]=a;return r<=0&&(null!=o?r+=o.endTime-this.data.getMix(o.animation,e):r=0),a.delay=r,a},t.prototype.getCurrent=function(t){return t>=this.tracks.length?null:this.tracks[t]},t.prototype.setAnimationByName=function(e,n,r){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(e,n,r)},t.prototype.addAnimationByName=function(e,n,r,a){t.deprecatedWarning2||(t.deprecatedWarning2=!0,console.warn("Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(e,n,r,a)},t.prototype.hasAnimationByName=function(e){t.deprecatedWarning3||(t.deprecatedWarning3=!0,console.warn("Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on."));var n=this.data.skeletonData.findAnimation(e);return null!==n},t.deprecatedWarning1=!1,t.deprecatedWarning2=!1,t.deprecatedWarning3=!1,t}();n.AnimationState=a;var i=function(){function t(){this.loop=!1,this.delay=0,this.time=0,this.lastTime=-1,this.endTime=0,this.timeScale=1,this.mixTime=0,this.mixDuration=0,this.mix=1}return t.prototype.reset=function(){this.next=null,this.previous=null,this.animation=null,this.timeScale=1,this.lastTime=-1,this.time=0},t.prototype.isComplete=function(){return this.time>=this.endTime},t}();n.TrackEntry=i},{"./Utils":26}],4:[function(t,e,n){"use strict";var r=function(){function t(t){if(this.animationToMixTime={},this.defaultMix=0,null==t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}return t.prototype.setMix=function(t,e,n){var r=this.skeletonData.findAnimation(t);if(null==r)throw new Error("Animation not found: "+t);var a=this.skeletonData.findAnimation(e);if(null==a)throw new Error("Animation not found: "+e);this.setMixWith(r,a,n)},t.prototype.setMixByName=function(e,n,r){t.deprecatedWarning1||(t.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(e,n,r)},t.prototype.setMixWith=function(t,e,n){if(null==t)throw new Error("from cannot be null.");if(null==e)throw new Error("to cannot be null.");var r=t.name+e.name;this.animationToMixTime[r]=n},t.prototype.getMix=function(t,e){var n=t.name+e.name,r=this.animationToMixTime[n];return void 0===r?this.defaultMix:r},t.deprecatedWarning1=!1,t}();n.AnimationStateData=r},{}],5:[function(t,e,n){"use strict";var r=t("./attachments"),a=function(){function t(t){this.atlas=t}return t.prototype.newRegionAttachment=function(t,e,n){var a=this.atlas.findRegion(n);if(null==a)throw new Error("Region not found in atlas: "+n+" (region attachment: "+e+")");var i=new r.RegionAttachment(e);return i.region=a,i},t.prototype.newMeshAttachment=function(t,e,n){var a=this.atlas.findRegion(n);if(null==a)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+e+")");var i=new r.MeshAttachment(e);return i.region=a,i},t.prototype.newBoundingBoxAttachment=function(t,e){return new r.BoundingBoxAttachment(e)},t.prototype.newPathAttachment=function(t,e){return new r.PathAttachment(e)},t}();n.AtlasAttachmentLoader=a},{"./attachments":33}],6:[function(t,e,n){"use strict";!function(t){t[t.Normal=0]="Normal",t[t.Additive=1]="Additive",t[t.Multiply=2]="Multiply",t[t.Screen=3]="Screen"}(n.BlendMode||(n.BlendMode={}));n.BlendMode},{}],7:[function(t,e,n){"use strict";var r=t("./BoneData"),a=t("./Utils"),i=function(){function t(t,e,n){if(this.matrix=new PIXI.Matrix,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=e,this.parent=n,this.setToSetupPose()}return Object.defineProperty(t.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!0,configurable:!0}),t.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},t.prototype.updateWorldTransformWith=function(e,n,i,o,s,h,l){this.ax=e,this.ay=n,this.arotation=i,this.ascaleX=o,this.ascaleY=s,this.ashearX=h,this.ashearY=l,this.appliedValid=!0;var u=this.parent,c=this.matrix;if(null==u){var f=i+90+l,p=a.MathUtils.cosDeg(i+h)*o,d=a.MathUtils.cosDeg(f)*s,m=a.MathUtils.sinDeg(i+h)*o,g=a.MathUtils.sinDeg(f)*s,v=this.skeleton;return v.flipX&&(e=-e,p=-p,d=-d),v.flipY!==t.yDown&&(n=-n,m=-m,g=-g),c.a=p,c.c=d,c.b=m,c.d=g,c.tx=e+v.x,void(c.ty=n+v.y)}var y=u.matrix.a,x=u.matrix.c,M=u.matrix.b,E=u.matrix.d;switch(c.tx=y*e+x*n+u.matrix.tx,c.ty=M*e+E*n+u.matrix.ty,this.data.transformMode){case r.TransformMode.Normal:var f=i+90+l,p=a.MathUtils.cosDeg(i+h)*o,d=a.MathUtils.cosDeg(f)*s,m=a.MathUtils.sinDeg(i+h)*o,g=a.MathUtils.sinDeg(f)*s;return c.a=y*p+x*m,c.c=y*d+x*g,c.b=M*p+E*m,void(c.d=M*d+E*g);case r.TransformMode.OnlyTranslation:var f=i+90+l;c.a=a.MathUtils.cosDeg(i+h)*o,c.c=a.MathUtils.cosDeg(f)*s,c.b=a.MathUtils.sinDeg(i+h)*o,c.d=a.MathUtils.sinDeg(f)*s;break;case r.TransformMode.NoRotationOrReflection:var T=y*y+M*M,w=0;T>1e-4?(T=Math.abs(y*E-x*M)/T,x=M*T,E=y*T,w=Math.atan2(M,y)*a.MathUtils.radDeg):(y=0,M=0,w=90-Math.atan2(E,x)*a.MathUtils.radDeg);var b=i+h-w,A=i+l-w+90,p=a.MathUtils.cosDeg(b)*o,d=a.MathUtils.cosDeg(A)*s,m=a.MathUtils.sinDeg(b)*o,g=a.MathUtils.sinDeg(A)*s;c.a=y*p-x*m,c.c=y*d-x*g,c.b=M*p+E*m,c.d=M*d+E*g;break;case r.TransformMode.NoScale:case r.TransformMode.NoScaleOrReflection:var S=a.MathUtils.cosDeg(i),I=a.MathUtils.sinDeg(i),R=y*S+x*I,P=M*S+E*I,T=Math.sqrt(R*R+P*P);T>1e-5&&(T=1/T),R*=T,P*=T,T=Math.sqrt(R*R+P*P);var C=Math.PI/2+Math.atan2(P,R),V=Math.cos(C)*T,N=Math.sin(C)*T,p=a.MathUtils.cosDeg(h)*o,d=a.MathUtils.cosDeg(90+l)*s,m=a.MathUtils.sinDeg(h)*o,g=a.MathUtils.sinDeg(90+l)*s;return c.a=R*p+V*m,c.c=R*d+V*g,c.b=P*p+N*m,c.d=P*d+N*g,void((this.data.transformMode!=r.TransformMode.NoScaleOrReflection?y*E-x*M<0:this.skeleton.flipX!=this.skeleton.flipY!=t.yDown)&&(c.b=-c.b,c.d=-c.d));case r.TransformMode.InheritRotation:var f=i+90+l,p=a.MathUtils.cosDeg(i+h)*o,d=a.MathUtils.cosDeg(f)*s,m=a.MathUtils.sinDeg(i+h)*o,g=a.MathUtils.sinDeg(f)*s;y=1,x=0,M=0,E=1;do{var S=a.MathUtils.cosDeg(u.arotation),I=a.MathUtils.sinDeg(u.arotation),D=y*S+x*I;if(x=x*S-y*I,y=D,D=M*S+E*I,E=E*S-M*I,M=D,u.data.transformMode===r.TransformMode.InheritScale||u.data.transformMode===r.TransformMode.OnlyTranslation)break;u=u.parent}while(null!=u);c.a=y*p+x*m,c.c=y*d+x*g,c.b=M*p+E*m,c.d=M*d+E*g;break;case r.TransformMode.InheritScale:var f=i+90+l,p=a.MathUtils.cosDeg(i+h)*o,d=a.MathUtils.cosDeg(f)*s,m=a.MathUtils.sinDeg(i+h)*o,g=a.MathUtils.sinDeg(f)*s;y=1,x=0,M=0,E=1;do{var S=a.MathUtils.cosDeg(u.arotation),I=a.MathUtils.sinDeg(u.arotation),k=u.scaleX,U=u.scaleY,R=S*k,V=I*U,P=I*k,N=S*U,D=y*R+x*P;if(x=x*N-y*V,y=D,D=M*R+E*P,E=E*N-M*V,M=D,k>=0&&(I=-I),D=y*S+x*I,x=x*S-y*I,y=D,D=M*S+E*I,E=E*S-M*I,M=D,u.data.transformMode===r.TransformMode.InheritRotation||u.data.transformMode===r.TransformMode.OnlyTranslation)break;u=u.parent}while(null!=u);c.a=y*p+x*m,c.c=y*d+x*g,c.b=M*p+E*m,c.d=M*d+E*g}this.skeleton.flipX&&(c.a=-c.a,c.c=-c.c),this.skeleton.flipY!=t.yDown&&(c.b=-c.b,c.d=-c.d)},t.prototype.setToSetupPose=function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY},t.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*a.MathUtils.radDeg},t.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*a.MathUtils.radDeg},t.prototype.getWorldScaleX=function(){var t=this.matrix;return Math.sqrt(t.a*t.a+t.c*t.c)},t.prototype.getWorldScaleY=function(){var t=this.matrix;return Math.sqrt(t.b*t.b+t.d*t.d)},t.prototype.worldToLocalRotationX=function(){var t=this.parent;if(null==t)return this.arotation;var e=t.matrix,n=this.matrix;return Math.atan2(e.a*n.b-e.b*n.a,e.d*n.a-e.c*n.b)*a.MathUtils.radDeg},t.prototype.worldToLocalRotationY=function(){var t=this.parent;if(null==t)return this.arotation;var e=t.matrix,n=this.matrix;return Math.atan2(e.a*n.d-e.b*n.c,e.d*n.c-e.c*n.d)*a.MathUtils.radDeg},t.prototype.rotateWorld=function(t){var e=this.matrix,n=this.matrix.a,r=e.c,i=e.b,o=e.d,s=a.MathUtils.cosDeg(t),h=a.MathUtils.sinDeg(t);e.a=s*n-h*i,e.c=s*r-h*o,e.b=h*n+s*i,e.d=h*r+s*o,this.appliedValid=!1},t.prototype.updateAppliedTransform=function(){
this.appliedValid=!0;var t=this.parent,e=this.matrix;if(null==t)return this.ax=e.tx,this.ay=e.ty,this.arotation=Math.atan2(e.b,e.a)*a.MathUtils.radDeg,this.ascaleX=Math.sqrt(e.a*e.a+e.b*e.b),this.ascaleY=Math.sqrt(e.c*e.c+e.d*e.d),this.ashearX=0,void(this.ashearY=Math.atan2(e.a*e.c+e.b*e.d,e.a*e.d-e.b*e.c)*a.MathUtils.radDeg);var n=t.matrix,r=1/(n.a*n.d-n.b*n.c),i=e.tx-n.tx,o=e.ty-n.ty;this.ax=i*n.d*r-o*n.c*r,this.ay=o*n.a*r-i*n.b*r;var s=r*n.d,h=r*n.a,l=r*n.c,u=r*n.b,c=s*e.a-l*e.b,f=s*e.c-l*e.d,p=h*e.b-u*e.a,d=h*e.d-u*e.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(c*c+p*p),this.ascaleX>1e-4){var m=c*d-f*p;this.ascaleY=m/this.ascaleX,this.ashearY=Math.atan2(c*f+p*d,m)*a.MathUtils.radDeg,this.arotation=Math.atan2(p,c)*a.MathUtils.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(f*f+d*d),this.ashearY=0,this.arotation=90-Math.atan2(d,f)*a.MathUtils.radDeg},t.prototype.worldToLocal=function(t){var e=this.matrix,n=e.a,r=e.c,a=e.b,i=e.d,o=1/(n*i-r*a),s=t.x-e.tx,h=t.y-e.ty;return t.x=s*i*o-h*r*o,t.y=h*n*o-s*a*o,t},t.prototype.localToWorld=function(t){var e=this.matrix,n=t.x,r=t.y;return t.x=n*e.a+r*e.c+e.tx,t.y=n*e.b+r*e.d+e.ty,t},t.yDown=!1,t}();n.Bone=i},{"./BoneData":8,"./Utils":26}],8:[function(t,e,n){"use strict";var r=function(){function t(t,e,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=a.Normal,t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");this.index=t,this.name=e,this.parent=n}return t}();n.BoneData=r,function(t){t[t.Normal=0]="Normal",t[t.OnlyTranslation=1]="OnlyTranslation",t[t.NoRotationOrReflection=2]="NoRotationOrReflection",t[t.NoScale=3]="NoScale",t[t.NoScaleOrReflection=4]="NoScaleOrReflection",t[t.InheritRotation=5]="InheritRotation",t[t.InheritScale=6]="InheritScale"}(n.TransformMode||(n.TransformMode={}));var a=n.TransformMode},{}],9:[function(t,e,n){"use strict";var r=function(){function t(t,e){if(null==e)throw new Error("data cannot be null.");this.time=t,this.data=e}return t}();n.Event=r},{}],10:[function(t,e,n){"use strict";var r=function(){function t(t){this.name=t}return t}();n.EventData=r},{}],11:[function(t,e,n){"use strict";var r=t("./Utils"),a=function(){function t(t,e){if(this.mix=1,this.bendDirection=0,this.level=0,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.bendDirection=t.bendDirection,this.bones=new Array;for(var n=0;n<t.bones.length;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findBone(t.target.name)}return t.prototype.getOrder=function(){return this.data.order},t.prototype.apply=function(){this.update()},t.prototype.update=function(){var t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.mix)}},t.prototype.apply1=function(t,e,n,a){t.appliedValid||t.updateAppliedTransform();var i=t.parent.matrix,o=1/(i.a*i.d-i.b*i.c),s=e-i.tx,h=n-i.ty,l=(s*i.d-h*i.c)*o-t.ax,u=(h*i.a-s*i.b)*o-t.ay,c=Math.atan2(u,l)*r.MathUtils.radDeg-t.ashearX-t.arotation;t.ascaleX<0&&(c+=180),c>180?c-=360:c<-180&&(c+=360),t.updateWorldTransformWith(t.ax,t.ay,t.arotation+c*a,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY)},t.prototype.apply2=function(t,e,n,a,i,o){if(0==o)return void e.updateWorldTransform();t.appliedValid||t.updateAppliedTransform(),e.appliedValid||e.updateAppliedTransform();var s=t.ax,h=t.ay,l=t.ascaleX,u=t.ascaleY,c=e.ascaleX,f=0,p=0,d=0;l<0?(l=-l,f=180,d=-1):(f=0,d=1),u<0&&(u=-u,d=-d),c<0?(c=-c,p=180):p=0;var m=t.matrix,g=e.ax,v=0,y=0,x=0,M=m.a,E=m.c,T=m.b,w=m.d,b=Math.abs(l-u)<=1e-4;b?(v=e.ay,y=M*g+E*v+m.tx,x=T*g+w*v+m.ty):(v=0,y=M*g+m.tx,x=T*g+m.ty);var A=(t.parent,t.parent.matrix);M=A.a,E=A.c,T=A.b,w=A.d;var S=1/(M*w-E*T),I=n-A.tx,R=a-A.ty,P=(I*w-R*E)*S-s,C=(R*M-I*T)*S-h;I=y-A.tx,R=x-A.ty;var V=(I*w-R*E)*S-s,N=(R*M-I*T)*S-h,D=Math.sqrt(V*V+N*N),k=e.data.length*c,U=0,_=0;t:if(b){k*=l;var O=(P*P+C*C-D*D-k*k)/(2*D*k);O<-1?O=-1:O>1&&(O=1),_=Math.acos(O)*i,M=D+k*O,E=k*Math.sin(_),U=Math.atan2(C*M-P*E,P*M+C*E)}else{M=l*k,E=u*k;var X=M*M,B=E*E,F=P*P+C*C,Y=Math.atan2(C,P);T=B*D*D+X*F-X*B;var L=-2*B*D,W=B-X;if(w=L*L-4*W*T,w>=0){var q=Math.sqrt(w);L<0&&(q=-q),q=-(L+q)/2;var j=q/W,Z=T/q,z=Math.abs(j)<Math.abs(Z)?j:Z;if(z*z<=F){R=Math.sqrt(F-z*z)*i,U=Y-Math.atan2(R,z),_=Math.atan2(R/u,(z-D)/l);break t}}var H=0,G=Number.MAX_VALUE,J=0,K=0,Q=0,$=0,tt=0,et=0;I=D+M,w=I*I,w>$&&(Q=0,$=w,tt=I),I=D-M,w=I*I,w<G&&(H=r.MathUtils.PI,G=w,J=I);var nt=Math.acos(-M*D/(X-B));I=M*Math.cos(nt)+D,R=E*Math.sin(nt),w=I*I+R*R,w<G&&(H=nt,G=w,J=I,K=R),w>$&&(Q=nt,$=w,tt=I,et=R),F<=(G+$)/2?(U=Y-Math.atan2(K*i,J),_=H*i):(U=Y-Math.atan2(et*i,tt),_=Q*i)}var rt=Math.atan2(v,g)*d,at=t.arotation;U=(U-rt)*r.MathUtils.radDeg+f-at,U>180?U-=360:U<-180&&(U+=360),t.updateWorldTransformWith(s,h,at+U*o,t.ascaleX,t.ascaleY,0,0),at=e.arotation,_=((_+rt)*r.MathUtils.radDeg-e.ashearX)*d+p-at,_>180?_-=360:_<-180&&(_+=360),e.updateWorldTransformWith(g,v,at+_*o,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)},t}();n.IkConstraint=a},{"./Utils":26}],12:[function(t,e,n){"use strict";var r=function(){function t(t){this.order=0,this.bones=new Array,this.bendDirection=1,this.mix=1,this.name=t}return t}();n.IkConstraintData=r},{}],13:[function(t,e,n){"use strict";var r=t("./PathConstraintData"),a=t("./attachments"),i=t("./Utils"),o=function(){function t(t,e){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(var n=0,r=t.bones.length;n<r;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findSlot(t.target.name),this.position=t.position,this.spacing=t.spacing,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix}return t.prototype.apply=function(){this.update()},t.prototype.update=function(){var t=this.target.getAttachment();if(t instanceof a.PathAttachment){var e=this.rotateMix,n=this.translateMix,o=n>0,s=e>0;if(o||s){var h=this.data,l=h.spacingMode,u=l==r.SpacingMode.Length,c=h.rotateMode,f=c==r.RotateMode.Tangent,p=c==r.RotateMode.ChainScale,d=this.bones.length,m=f?d:d+1,g=this.bones,v=i.Utils.setArraySize(this.spaces,m),y=null,x=this.spacing;if(p||u){p&&(y=i.Utils.setArraySize(this.lengths,d));for(var M=0,E=m-1;M<E;){var T=g[M],w=T.matrix,b=T.data.length,A=b*w.a,S=b*w.b;b=Math.sqrt(A*A+S*S),p&&(y[M]=b),v[++M]=u?Math.max(0,b+x):x}}else for(var M=1;M<m;M++)v[M]=x;for(var I=this.computeWorldPositions(t,m,f,h.positionMode==r.PositionMode.Percent,l==r.SpacingMode.Percent),R=I[0],P=I[1],C=h.offsetRotation,V=c==r.RotateMode.Chain&&0==C,M=0,N=3;M<d;M++,N+=3){var T=g[M],w=T.matrix;w.tx+=(R-w.tx)*n,w.ty+=(P-w.ty)*n;var A=I[N],S=I[N+1],D=A-R,k=S-P;if(p){var U=y[M];if(0!=U){var _=(Math.sqrt(D*D+k*k)/U-1)*e+1;w.a*=_,w.b*=_}}if(R=A,P=S,s){var O=w.a,X=w.c,B=w.b,F=w.d,Y=0,L=0,W=0;if(Y=f?I[N-1]:0==v[M+1]?I[N+2]:Math.atan2(k,D),Y-=Math.atan2(B,O)-C*i.MathUtils.degRad,V){L=Math.cos(Y),W=Math.sin(Y);var q=T.data.length;R+=(q*(L*O-W*B)-D)*e,P+=(q*(W*O+L*B)-k)*e}Y>i.MathUtils.PI?Y-=i.MathUtils.PI2:Y<-i.MathUtils.PI&&(Y+=i.MathUtils.PI2),Y*=e,L=Math.cos(Y),W=Math.sin(Y),w.a=L*O-W*B,w.c=L*X-W*F,w.b=W*O+L*B,w.d=W*X+L*F}T.appliedValid=!1}}}},t.prototype.computeWorldPositions=function(e,n,r,a,o){var s=this.target,h=this.position,l=this.spaces,u=i.Utils.setArraySize(this.positions,3*n+2),c=null,f=e.closed,p=e.worldVerticesLength,d=p/6,m=t.NONE;if(!e.constantSpeed){var g=e.lengths;d-=f?1:2;var v=g[d];if(a&&(h*=v),o)for(var y=0;y<n;y++)l[y]*=v;c=i.Utils.setArraySize(this.world,8);for(var y=0,x=0,M=0;y<n;y++,x+=3){var E=l[y];h+=E;var T=h;if(f)T%=v,T<0&&(T+=v),M=0;else{if(T<0){m!=t.BEFORE&&(m=t.BEFORE,e.computeWorldVerticesWith(s,2,4,c,0)),this.addBeforePosition(T,c,0,u,x);continue}if(T>v){m!=t.AFTER&&(m=t.AFTER,e.computeWorldVerticesWith(s,p-6,4,c,0)),this.addAfterPosition(T-v,c,0,u,x);continue}}for(;;M++){var w=g[M];if(!(T>w)){if(0==M)T/=w;else{var b=g[M-1];T=(T-b)/(w-b)}break}}M!=m&&(m=M,f&&M==d?(e.computeWorldVerticesWith(s,p-4,4,c,0),e.computeWorldVerticesWith(s,0,4,c,4)):e.computeWorldVerticesWith(s,6*M+2,8,c,0)),this.addCurvePosition(T,c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],u,x,r||y>0&&0==E)}return u}f?(p+=2,c=i.Utils.setArraySize(this.world,p),e.computeWorldVerticesWith(s,2,p-4,c,0),e.computeWorldVerticesWith(s,0,2,c,p-4),c[p-2]=c[0],c[p-1]=c[1]):(d--,p-=4,c=i.Utils.setArraySize(this.world,p),e.computeWorldVerticesWith(s,2,p,c,0));for(var A=i.Utils.setArraySize(this.curves,d),S=0,I=c[0],R=c[1],P=0,C=0,V=0,N=0,D=0,k=0,U=0,_=0,O=0,X=0,B=0,F=0,Y=0,L=0,y=0,W=2;y<d;y++,W+=6)P=c[W],C=c[W+1],V=c[W+2],N=c[W+3],D=c[W+4],k=c[W+5],U=.1875*(I-2*P+V),_=.1875*(R-2*C+N),O=.09375*(3*(P-V)-I+D),X=.09375*(3*(C-N)-R+k),B=2*U+O,F=2*_+X,Y=.75*(P-I)+U+.16666667*O,L=.75*(C-R)+_+.16666667*X,S+=Math.sqrt(Y*Y+L*L),Y+=B,L+=F,B+=O,F+=X,S+=Math.sqrt(Y*Y+L*L),Y+=B,L+=F,S+=Math.sqrt(Y*Y+L*L),Y+=B+O,L+=F+X,S+=Math.sqrt(Y*Y+L*L),A[y]=S,I=D,R=k;if(a&&(h*=S),o)for(var y=0;y<n;y++)l[y]*=S;for(var q=this.segments,j=0,y=0,x=0,M=0,Z=0;y<n;y++,x+=3){var E=l[y];h+=E;var T=h;if(f)T%=S,T<0&&(T+=S),M=0;else{if(T<0){this.addBeforePosition(T,c,0,u,x);continue}if(T>S){this.addAfterPosition(T-S,c,p-4,u,x);continue}}for(;;M++){var z=A[M];if(!(T>z)){if(0==M)T/=z;else{var b=A[M-1];T=(T-b)/(z-b)}break}}if(M!=m){m=M;var H=6*M;for(I=c[H],R=c[H+1],P=c[H+2],C=c[H+3],V=c[H+4],N=c[H+5],D=c[H+6],k=c[H+7],U=.03*(I-2*P+V),_=.03*(R-2*C+N),O=.006*(3*(P-V)-I+D),X=.006*(3*(C-N)-R+k),B=2*U+O,F=2*_+X,Y=.3*(P-I)+U+.16666667*O,L=.3*(C-R)+_+.16666667*X,j=Math.sqrt(Y*Y+L*L),q[0]=j,H=1;H<8;H++)Y+=B,L+=F,B+=O,F+=X,j+=Math.sqrt(Y*Y+L*L),q[H]=j;Y+=B,L+=F,j+=Math.sqrt(Y*Y+L*L),q[8]=j,Y+=B+O,L+=F+X,j+=Math.sqrt(Y*Y+L*L),q[9]=j,Z=0}for(T*=j;;Z++){var G=q[Z];if(!(T>G)){if(0==Z)T/=G;else{var b=q[Z-1];T=Z+(T-b)/(G-b)}break}}this.addCurvePosition(.1*T,I,R,P,C,V,N,D,k,u,x,r||y>0&&0==E)}return u},t.prototype.addBeforePosition=function(t,e,n,r,a){var i=e[n],o=e[n+1],s=e[n+2]-i,h=e[n+3]-o,l=Math.atan2(h,s);r[a]=i+t*Math.cos(l),r[a+1]=o+t*Math.sin(l),r[a+2]=l},t.prototype.addAfterPosition=function(t,e,n,r,a){var i=e[n+2],o=e[n+3],s=i-e[n],h=o-e[n+1],l=Math.atan2(h,s);r[a]=i+t*Math.cos(l),r[a+1]=o+t*Math.sin(l),r[a+2]=l},t.prototype.addCurvePosition=function(t,e,n,r,a,i,o,s,h,l,u,c){(0==t||isNaN(t))&&(t=1e-4);var f=t*t,p=f*t,d=1-t,m=d*d,g=m*d,v=d*t,y=3*v,x=d*y,M=y*t,E=e*g+r*x+i*M+s*p,T=n*g+a*x+o*M+h*p;l[u]=E,l[u+1]=T,c&&(l[u+2]=Math.atan2(T-(n*m+a*v*2+o*f),E-(e*m+r*v*2+i*f)))},t.prototype.getOrder=function(){return this.data.order},t.NONE=-1,t.BEFORE=-2,t.AFTER=-3,t}();n.PathConstraint=o},{"./PathConstraintData":14,"./Utils":26,"./attachments":33}],14:[function(t,e,n){"use strict";var r=function(){function t(t){this.order=0,this.bones=new Array,this.name=t}return t}();n.PathConstraintData=r,function(t){t[t.Fixed=0]="Fixed",t[t.Percent=1]="Percent"}(n.PositionMode||(n.PositionMode={}));n.PositionMode;!function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent"}(n.SpacingMode||(n.SpacingMode={}));n.SpacingMode;!function(t){t[t.Tangent=0]="Tangent",t[t.Chain=1]="Chain",t[t.ChainScale=2]="ChainScale"}(n.RotateMode||(n.RotateMode={}));n.RotateMode},{}],15:[function(t,e,n){"use strict";var r=t("./Slot"),a=t("./Bone"),i=t("./IkConstraint"),o=t("./TransformConstraint"),s=t("./PathConstraint"),h=t("./Utils"),l=t("./attachments"),u=function(){function t(t){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.flipX=!1,this.flipY=!1,this.x=0,this.y=0,null==t)throw new Error("data cannot be null.");this.data=t,this.bones=new Array;for(var e=0;e<t.bones.length;e++){var n=t.bones[e],l=void 0;if(null==n.parent)l=new a.Bone(n,this,null);else{var u=this.bones[n.parent.index];l=new a.Bone(n,this,u),u.children.push(l)}this.bones.push(l)}this.slots=new Array,this.drawOrder=new Array;for(var e=0;e<t.slots.length;e++){var c=t.slots[e],l=this.bones[c.boneData.index],f=new r.Slot(c,l);this.slots.push(f),this.drawOrder.push(f)}this.ikConstraints=new Array;for(var e=0;e<t.ikConstraints.length;e++){var p=t.ikConstraints[e];this.ikConstraints.push(new i.IkConstraint(p,this))}this.transformConstraints=new Array;for(var e=0;e<t.transformConstraints.length;e++){var d=t.transformConstraints[e];this.transformConstraints.push(new o.TransformConstraint(d,this))}this.pathConstraints=new Array;for(var e=0;e<t.pathConstraints.length;e++){var m=t.pathConstraints[e];this.pathConstraints.push(new s.PathConstraint(m,this))}this.color=new h.Color(1,1,1,1),this.updateCache()}return t.prototype.updateCache=function(){var t=this._updateCache;t.length=0;for(var e=this.bones,n=0,r=e.length;n<r;n++)e[n].sorted=!1;var a=this.ikConstraints,i=this.transformConstraints,o=this.pathConstraints,s=a.length,h=i.length,l=o.length,u=s+h+l;t:for(var n=0;n<u;n++){for(var c=0;c<s;c++){var f=a[c];if(f.data.order==n){this.sortIkConstraint(f);continue t}}for(var c=0;c<h;c++){var f=i[c];if(f.data.order==n){this.sortTransformConstraint(f);continue t}}for(var c=0;c<l;c++){var f=o[c];if(f.data.order==n){this.sortPathConstraint(f);continue t}}}for(var n=0,r=e.length;n<r;n++)this.sortBone(e[n])},t.prototype.sortIkConstraint=function(t){var e=t.target;this.sortBone(e);var n=t.bones,r=n[0];if(this.sortBone(r),n.length>1){var a=n[n.length-1];this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}this._updateCache.push(t),this.sortReset(r.children),n[n.length-1].sorted=!0},t.prototype.sortPathConstraint=function(t){var e=t.target,n=e.data.index,r=e.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,n,r),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,r);for(var a=0,i=this.data.skins.length;a<i;a++)this.sortPathConstraintAttachment(this.data.skins[a],n,r);var o=e.getAttachment();o instanceof l.PathAttachment&&this.sortPathConstraintAttachmentWith(o,r);for(var s=t.bones,h=s.length,a=0;a<h;a++)this.sortBone(s[a]);this._updateCache.push(t);for(var a=0;a<h;a++)this.sortReset(s[a].children);for(var a=0;a<h;a++)s[a].sorted=!0},t.prototype.sortTransformConstraint=function(t){this.sortBone(t.target);for(var e=t.bones,n=e.length,r=0;r<n;r++)this.sortBone(e[r]);this._updateCache.push(t);for(var r=0;r<n;r++)this.sortReset(e[r].children);for(var r=0;r<n;r++)e[r].sorted=!0},t.prototype.sortPathConstraintAttachment=function(t,e,n){var r=t.attachments[e];if(r)for(var a in r)this.sortPathConstraintAttachmentWith(r[a],n)},t.prototype.sortPathConstraintAttachmentWith=function(t,e){if(t instanceof l.PathAttachment){var n=t.bones;if(null==n)this.sortBone(e);else for(var r=this.bones,a=0;a<n.length;)for(var i=n[a++],o=a+i;a<o;a++){var s=n[a];this.sortBone(r[s])}}},t.prototype.sortBone=function(t){if(!t.sorted){var e=t.parent;null!=e&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t)}},t.prototype.sortReset=function(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];r.sorted&&this.sortReset(r.children),r.sorted=!1}},t.prototype.updateWorldTransform=function(){for(var t=this.updateCacheReset,e=0,n=t.length;e<n;e++){var r=t[e];r.ax=r.x,r.ay=r.y,r.arotation=r.rotation,r.ascaleX=r.scaleX,r.ascaleY=r.scaleY,r.ashearX=r.shearX,r.ashearY=r.shearY,r.appliedValid=!0}for(var a=this._updateCache,e=0,n=a.length;e<n;e++)a[e].update()},t.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},t.prototype.setBonesToSetupPose=function(){for(var t=this.bones,e=0,n=t.length;e<n;e++)t[e].setToSetupPose();for(var r=this.ikConstraints,e=0,n=r.length;e<n;e++){var a=r[e];a.bendDirection=a.data.bendDirection,a.mix=a.data.mix}for(var i=this.transformConstraints,e=0,n=i.length;e<n;e++){var a=i[e],o=a.data;a.rotateMix=o.rotateMix,a.translateMix=o.translateMix,a.scaleMix=o.scaleMix,a.shearMix=o.shearMix}for(var s=this.pathConstraints,e=0,n=s.length;e<n;e++){var a=s[e],o=a.data;a.position=o.position,a.spacing=o.spacing,a.rotateMix=o.rotateMix,a.translateMix=o.translateMix}},t.prototype.setSlotsToSetupPose=function(){var t=this.slots;h.Utils.arrayCopy(t,0,this.drawOrder,0,t.length);for(var e=0,n=t.length;e<n;e++)t[e].setToSetupPose()},t.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},t.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;n<r;n++){var a=e[n];if(a.data.name==t)return a}return null},t.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;n<r;n++)if(e[n].data.name==t)return n;return-1},t.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;n<r;n++){var a=e[n];if(a.data.name==t)return a}return null},t.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;n<r;n++)if(e[n].data.name==t)return n;return-1},t.prototype.setSkinByName=function(t){var e=this.data.findSkin(t);if(null==e)throw new Error("Skin not found: "+t);this.setSkin(e)},t.prototype.setSkin=function(t){if(null!=t)if(null!=this.skin)t.attachAll(this,this.skin);else for(var e=this.slots,n=0,r=e.length;n<r;n++){var a=e[n],i=a.data.attachmentName;if(null!=i){var o=t.getAttachment(n,i);null!=o&&a.setAttachment(o)}}this.skin=t},t.prototype.getAttachmentByName=function(t,e){return this.getAttachment(this.data.findSlotIndex(t),e)},t.prototype.getAttachment=function(t,e){if(null==e)throw new Error("attachmentName cannot be null.");if(null!=this.skin){var n=this.skin.getAttachment(t,e);if(null!=n)return n}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null},t.prototype.setAttachment=function(t,e){if(null==t)throw new Error("slotName cannot be null.");for(var n=this.slots,r=0,a=n.length;r<a;r++){var i=n[r];if(i.data.name==t){var o=null;if(null!=e&&(o=this.getAttachment(r,e),null==o))throw new Error("Attachment not found: "+e+", for slot: "+t);return void i.setAttachment(o)}}throw new Error("Slot not found: "+t)},t.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,r=e.length;n<r;n++){var a=e[n];if(a.data.name==t)return a}return null},t.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,r=e.length;n<r;n++){var a=e[n];if(a.data.name==t)return a}return null},t.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,r=e.length;n<r;n++){var a=e[n];if(a.data.name==t)return a}return null},t.prototype.getBounds=function(t,e){if(null==t)throw new Error("offset cannot be null.");if(null==e)throw new Error("size cannot be null.");for(var n=this.drawOrder,r=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY,o=Number.NEGATIVE_INFINITY,s=0,h=n.length;s<h;s++){var u=n[s],c=null,f=u.getAttachment();if(f instanceof l.RegionAttachment?c=f.updateWorldVertices(u,!1):f instanceof l.MeshAttachment&&(c=f.updateWorldVertices(u,!0)),null!=c)for(var p=0,d=c.length;p<d;p+=8){var m=c[p],g=c[p+1];r=Math.min(r,m),a=Math.min(a,g),i=Math.max(i,m),o=Math.max(o,g)}}t.set(r,a),e.set(i-r,o-a)},t.prototype.update=function(t){this.time+=t},t}();n.Skeleton=u},{"./Bone":7,"./IkConstraint":11,"./PathConstraint":13,"./Slot":20,"./TransformConstraint":24,"./Utils":26,"./attachments":33}],16:[function(t,e,n){"use strict";var r=t("./Utils"),a=t("./attachments"),i=function(){function t(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new r.Pool(function(){return r.Utils.newFloatArray(16)})}return t.prototype.update=function(t,e){if(null==t)throw new Error("skeleton cannot be null.");var n=this.boundingBoxes,i=this.polygons,o=this.polygonPool,s=t.slots,h=s.length;n.length=0,o.freeAll(i),i.length=0;for(var l=0;l<h;l++){var u=s[l],c=u.getAttachment();if(c instanceof a.BoundingBoxAttachment){var f=c;n.push(f);var p=o.obtain();p.length!=f.worldVerticesLength&&(p=r.Utils.newFloatArray(f.worldVerticesLength)),i.push(p),f.computeWorldVertices(u,p)}}e&&this.aabbCompute()},t.prototype.aabbCompute=function(){for(var t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,r=Number.NEGATIVE_INFINITY,a=this.polygons,i=0,o=a.length;i<o;i++)for(var s=a[i],h=s,l=0,u=s.length;l<u;l+=2){var c=h[l],f=h[l+1];t=Math.min(t,c),e=Math.min(e,f),n=Math.max(n,c),r=Math.max(r,f)}this.minX=t,this.minY=e,this.maxX=n,this.maxY=r},t.prototype.aabbContainsPoint=function(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY},t.prototype.aabbIntersectsSegment=function(t,e,n,r){var a=this.minX,i=this.minY,o=this.maxX,s=this.maxY;if(t<=a&&n<=a||e<=i&&r<=i||t>=o&&n>=o||e>=s&&r>=s)return!1;var h=(r-e)/(n-t),l=h*(a-t)+e;if(l>i&&l<s)return!0;if(l=h*(o-t)+e,l>i&&l<s)return!0;var u=(i-e)/h+t;return u>a&&u<o||(u=(s-e)/h+t,u>a&&u<o)},t.prototype.aabbIntersectsSkeleton=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},t.prototype.containsPoint=function(t,e){for(var n=this.polygons,r=0,a=n.length;r<a;r++)if(this.containsPointPolygon(n[r],t,e))return this.boundingBoxes[r];return null},t.prototype.containsPointPolygon=function(t,e,n){for(var r=t,a=t.length,i=a-2,o=!1,s=0;s<a;s+=2){var h=r[s+1],l=r[i+1];if(h<n&&l>=n||l<n&&h>=n){var u=r[s];u+(n-h)/(l-h)*(r[i]-u)<e&&(o=!o)}i=s}return o},t.prototype.intersectsSegment=function(t,e,n,r){for(var a=this.polygons,i=0,o=a.length;i<o;i++)if(this.intersectsSegmentPolygon(a[i],t,e,n,r))return this.boundingBoxes[i];return null},t.prototype.intersectsSegmentPolygon=function(t,e,n,r,a){for(var i=t,o=t.length,s=e-r,h=n-a,l=e*a-n*r,u=i[o-2],c=i[o-1],f=0;f<o;f+=2){var p=i[f],d=i[f+1],m=u*d-c*p,g=u-p,v=c-d,y=s*v-h*g,x=(l*g-s*m)/y;if((x>=u&&x<=p||x>=p&&x<=u)&&(x>=e&&x<=r||x>=r&&x<=e)){var M=(l*v-h*m)/y;if((M>=c&&M<=d||M>=d&&M<=c)&&(M>=n&&M<=a||M>=a&&M<=n))return!0}u=p,c=d}return!1},t.prototype.getPolygon=function(t){if(null==t)throw new Error("boundingBox cannot be null.");var e=this.boundingBoxes.indexOf(t);return e==-1?null:this.polygons[e]},t.prototype.getWidth=function(){return this.maxX-this.minX},t.prototype.getHeight=function(){return this.maxY-this.minY},t}();n.SkeletonBounds=i},{"./Utils":26,"./attachments":33}],17:[function(t,e,n){"use strict";var r=function(){function t(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return t.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;n<r;n++){var a=e[n];if(a.name==t)return a}return null},t.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;n<r;n++)if(e[n].name==t)return n;return-1},t.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;n<r;n++){var a=e[n];if(a.name==t)return a}return null},t.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;n<r;n++)if(e[n].name==t)return n;return-1},t.prototype.findSkin=function(t){if(null==t)throw new Error("skinName cannot be null.");for(var e=this.skins,n=0,r=e.length;n<r;n++){var a=e[n];if(a.name==t)return a}return null},t.prototype.findEvent=function(t){if(null==t)throw new Error("eventDataName cannot be null.");for(var e=this.events,n=0,r=e.length;n<r;n++){var a=e[n];if(a.name==t)return a}return null},t.prototype.findAnimation=function(t){if(null==t)throw new Error("animationName cannot be null.");for(var e=this.animations,n=0,r=e.length;n<r;n++){var a=e[n];if(a.name==t)return a}return null},t.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,r=e.length;n<r;n++){var a=e[n];if(a.name==t)return a}return null},t.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,r=e.length;n<r;n++){var a=e[n];if(a.name==t)return a}return null},t.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,r=e.length;n<r;n++){var a=e[n];if(a.name==t)return a}return null},t.prototype.findPathConstraintIndex=function(t){if(null==t)throw new Error("pathConstraintName cannot be null.");for(var e=this.pathConstraints,n=0,r=e.length;n<r;n++)if(e[n].name==t)return n;return-1},t}();n.SkeletonData=r},{}],18:[function(t,e,n){"use strict";var r=t("./SkeletonData"),a=t("./BoneData"),i=t("./SlotData"),o=t("./Event"),s=t("./IkConstraintData"),h=t("./TransformConstraintData"),l=t("./PathConstraintData"),u=t("./Skin"),c=t("./EventData"),f=t("./Utils"),p=t("./Animation"),d=function(){function t(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}return t.prototype.readSkeletonData=function(e){var n=this.scale,o=new r.SkeletonData,f="string"==typeof e?JSON.parse(e):e,p=f.skeleton;if(null!=p&&(o.hash=p.hash,o.version=p.spine,o.width=p.width,o.height=p.height,o.fps=p.fps,o.imagesPath=p.images),f.bones)for(var d=0;d<f.bones.length;d++){var m=f.bones[d],g=null,v=this.getValue(m,"parent",null);if(null!=v&&(g=o.findBone(v),null==g))throw new Error("Parent bone not found: "+v);var y=new a.BoneData(o.bones.length,m.name,g);y.length=this.getValue(m,"length",0)*n,y.x=this.getValue(m,"x",0)*n,y.y=this.getValue(m,"y",0)*n,y.rotation=this.getValue(m,"rotation",0),y.scaleX=this.getValue(m,"scaleX",1),y.scaleY=this.getValue(m,"scaleY",1),y.shearX=this.getValue(m,"shearX",0),y.shearY=this.getValue(m,"shearY",0),m.hasOwnProperty("inheritScale")||m.hasOwnProperty("inheritRotation")?y.transformMode=t.transformModeLegacy(this.getValue(m,"inheritRotation",!0),this.getValue(m,"inheritScale",!0)):y.transformMode=t.transformModeFromString(this.getValue(m,"transform","normal")),o.bones.push(y)}if(f.slots)for(var d=0;d<f.slots.length;d++){var x=f.slots[d],M=x.name,E=x.bone,T=o.findBone(E);if(null==T)throw new Error("Slot bone not found: "+E);var y=new i.SlotData(o.slots.length,M,T),w=this.getValue(x,"color",null);null!=w&&y.color.setFromString(w),y.attachmentName=this.getValue(x,"attachment",null),y.blendMode=t.blendModeFromString(this.getValue(x,"blend","normal")),o.slots.push(y)}if(f.ik)for(var d=0;d<f.ik.length;d++){var b=f.ik[d],y=new s.IkConstraintData(b.name);y.order=this.getValue(b,"order",0);for(var A=0;A<b.bones.length;A++){var E=b.bones[A],S=o.findBone(E);if(null==S)throw new Error("IK bone not found: "+E);y.bones.push(S)}var I=b.target;if(y.target=o.findBone(I),null==y.target)throw new Error("IK target bone not found: "+I);y.bendDirection=this.getValue(b,"bendPositive",!0)?1:-1,y.mix=this.getValue(b,"mix",1),o.ikConstraints.push(y)}if(f.transform)for(var d=0;d<f.transform.length;d++){var b=f.transform[d],y=new h.TransformConstraintData(b.name);y.order=this.getValue(b,"order",0);for(var A=0;A<b.bones.length;A++){var E=b.bones[A],S=o.findBone(E);if(null==S)throw new Error("Transform constraint bone not found: "+E);y.bones.push(S)}var I=b.target;if(y.target=o.findBone(I),null==y.target)throw new Error("Transform constraint target bone not found: "+I);y.offsetRotation=this.getValue(b,"rotation",0),y.offsetX=this.getValue(b,"x",0)*n,y.offsetY=this.getValue(b,"y",0)*n,y.offsetScaleX=this.getValue(b,"scaleX",0),y.offsetScaleY=this.getValue(b,"scaleY",0),y.offsetShearY=this.getValue(b,"shearY",0),y.rotateMix=this.getValue(b,"rotateMix",1),y.translateMix=this.getValue(b,"translateMix",1),y.scaleMix=this.getValue(b,"scaleMix",1),y.shearMix=this.getValue(b,"shearMix",1),o.transformConstraints.push(y)}if(f.path)for(var d=0;d<f.path.length;d++){var b=f.path[d],y=new l.PathConstraintData(b.name);y.order=this.getValue(b,"order",0);for(var A=0;A<b.bones.length;A++){var E=b.bones[A],S=o.findBone(E);if(null==S)throw new Error("Transform constraint bone not found: "+E);y.bones.push(S)}var I=b.target;if(y.target=o.findSlot(I),null==y.target)throw new Error("Path target slot not found: "+I);y.positionMode=t.positionModeFromString(this.getValue(b,"positionMode","percent")),y.spacingMode=t.spacingModeFromString(this.getValue(b,"spacingMode","length")),y.rotateMode=t.rotateModeFromString(this.getValue(b,"rotateMode","tangent")),y.offsetRotation=this.getValue(b,"rotation",0),y.position=this.getValue(b,"position",0),y.positionMode==l.PositionMode.Fixed&&(y.position*=n),y.spacing=this.getValue(b,"spacing",0),y.spacingMode!=l.SpacingMode.Length&&y.spacingMode!=l.SpacingMode.Fixed||(y.spacing*=n),y.rotateMix=this.getValue(b,"rotateMix",1),y.translateMix=this.getValue(b,"translateMix",1),o.pathConstraints.push(y)}if(f.skins)for(var R in f.skins){var P=f.skins[R],C=new u.Skin(R);for(var M in P){var V=o.findSlotIndex(M);if(V==-1)throw new Error("Slot not found: "+M);var x=P[M];for(var N in x){var D=this.readAttachment(x[N],C,V,N);null!=D&&C.addAttachment(V,N,D)}}o.skins.push(C),"default"==C.name&&(o.defaultSkin=C)}for(var d=0,k=this.linkedMeshes.length;d<k;d++){var U=this.linkedMeshes[d],C=null==U.skin?o.defaultSkin:o.findSkin(U.skin);if(null==C)throw new Error("Skin not found: "+U.skin);var _=C.getAttachment(U.slotIndex,U.parent);if(null==_)throw new Error("Parent mesh not found: "+U.parent);U.mesh.setParentMesh(_)}if(this.linkedMeshes.length=0,f.events)for(var O in f.events){var X=f.events[O],y=new c.EventData(O);y.intValue=this.getValue(X,"int",0),y.floatValue=this.getValue(X,"float",0),y.stringValue=this.getValue(X,"string",null),o.events.push(y)}if(f.animations)for(var B in f.animations){var F=f.animations[B];this.readAnimation(F,B,o)}return o},t.prototype.readAttachment=function(t,e,n,r){var a=this.scale;r=this.getValue(t,"name",r);var i=this.getValue(t,"type","region");switch(i){case"region":var o=this.getValue(t,"path",r),s=this.attachmentLoader.newRegionAttachment(e,r,o);if(null==s)return null;s.path=o,s.x=this.getValue(t,"x",0)*a,s.y=this.getValue(t,"y",0)*a,s.scaleX=this.getValue(t,"scaleX",1),s.scaleY=this.getValue(t,"scaleY",1),s.rotation=this.getValue(t,"rotation",0),s.width=t.width*a,s.height=t.height*a;var h=this.getValue(t,"color",null);return null!=h&&s.color.setFromString(h),s;case"boundingbox":var l=this.attachmentLoader.newBoundingBoxAttachment(e,r);if(null==l)return null;this.readVertices(t,l,t.vertexCount<<1);var h=this.getValue(t,"color",null);return null!=h&&l.color.setFromString(h),l;case"weightedmesh":case"skinnedmesh":case"mesh":case"linkedmesh":var o=this.getValue(t,"path",r),u=this.attachmentLoader.newMeshAttachment(e,r,o);if(null==u)return null;u.path=o;var h=this.getValue(t,"color",null);null!=h&&u.color.setFromString(h);var c=this.getValue(t,"parent",null);if(null!=c)return u.inheritDeform=this.getValue(t,"deform",!0),this.linkedMeshes.push(new m(u,this.getValue(t,"skin",null),n,c)),u;var p=t.uvs;return this.readVertices(t,u,p.length),u.triangles=t.triangles,u.regionUVs=p,u.hullLength=2*this.getValue(t,"hull",0),u;case"path":var o=this.attachmentLoader.newPathAttachment(e,r);if(null==o)return null;o.closed=this.getValue(t,"closed",!1),o.constantSpeed=this.getValue(t,"constantSpeed",!0);var d=t.vertexCount;this.readVertices(t,o,d<<1);for(var g=f.Utils.newArray(d/3,0),v=0;v<t.lengths.length;v++)g[v++]=t.lengths[v]*a;o.lengths=g;var h=this.getValue(t,"color",null);return null!=h&&o.color.setFromString(h),o}return null},t.prototype.readVertices=function(t,e,n){var r=this.scale;e.worldVerticesLength=n;var a=t.vertices;if(n==a.length){if(1!=r)for(var i=0,o=a.length;i<o;i++)a[i]*=r;return void(e.vertices=f.Utils.toFloatArray(a))}for(var s=new Array,h=new Array,i=0,o=a.length;i<o;){
var l=a[i++];h.push(l);for(var u=i+4*l;i<u;i+=4)h.push(a[i]),s.push(a[i+1]*r),s.push(a[i+2]*r),s.push(a[i+3])}e.bones=h,e.vertices=f.Utils.toFloatArray(s)},t.prototype.readAnimation=function(t,e,n){var r=this.scale,a=new Array,i=0;if(t.slots)for(var s in t.slots){var h=t.slots[s],u=n.findSlotIndex(s);if(u==-1)throw new Error("Slot not found: "+s);for(var c in h){var d=h[c];if("color"==c){var m=new p.ColorTimeline(d.length);m.slotIndex=u;for(var g=0,v=0;v<d.length;v++){var y=d[v],x=new f.Color;x.setFromString(y.color),m.setFrame(g,y.time,x.r,x.g,x.b,x.a),this.readCurve(y,m,g),g++}a.push(m),i=Math.max(i,m.frames[(m.getFrameCount()-1)*p.ColorTimeline.ENTRIES])}else{if(!(c="attachment"))throw new Error("Invalid timeline type for a slot: "+c+" ("+s+")");var m=new p.AttachmentTimeline(d.length);m.slotIndex=u;for(var g=0,v=0;v<d.length;v++){var y=d[v];m.setFrame(g++,y.time,y.name)}a.push(m),i=Math.max(i,m.frames[m.getFrameCount()-1])}}}if(t.bones)for(var M in t.bones){var E=t.bones[M],T=n.findBoneIndex(M);if(T==-1)throw new Error("Bone not found: "+M);for(var c in E){var d=E[c];if("rotate"===c){var m=new p.RotateTimeline(d.length);m.boneIndex=T;for(var g=0,v=0;v<d.length;v++){var y=d[v];m.setFrame(g,y.time,y.angle),this.readCurve(y,m,g),g++}a.push(m),i=Math.max(i,m.frames[(m.getFrameCount()-1)*p.RotateTimeline.ENTRIES])}else{if("translate"!==c&&"scale"!==c&&"shear"!==c)throw new Error("Invalid timeline type for a bone: "+c+" ("+M+")");var m=null,w=1;"scale"===c?m=new p.ScaleTimeline(d.length):"shear"===c?m=new p.ShearTimeline(d.length):(m=new p.TranslateTimeline(d.length),w=r),m.boneIndex=T;for(var g=0,v=0;v<d.length;v++){var y=d[v],b=this.getValue(y,"x",0),A=this.getValue(y,"y",0);m.setFrame(g,y.time,b*w,A*w),this.readCurve(y,m,g),g++}a.push(m),i=Math.max(i,m.frames[(m.getFrameCount()-1)*p.TranslateTimeline.ENTRIES])}}}if(t.ik)for(var S in t.ik){var I=t.ik[S],R=n.findIkConstraint(S),m=new p.IkConstraintTimeline(I.length);m.ikConstraintIndex=n.ikConstraints.indexOf(R);for(var g=0,v=0;v<I.length;v++){var y=I[v];m.setFrame(g,y.time,this.getValue(y,"mix",1),this.getValue(y,"bendPositive",!0)?1:-1),this.readCurve(y,m,g),g++}a.push(m),i=Math.max(i,m.frames[(m.getFrameCount()-1)*p.IkConstraintTimeline.ENTRIES])}if(t.transform)for(var S in t.transform){var I=t.transform[S],R=n.findTransformConstraint(S),m=new p.TransformConstraintTimeline(I.length);m.transformConstraintIndex=n.transformConstraints.indexOf(R);for(var g=0,v=0;v<I.length;v++){var y=I[v];m.setFrame(g,y.time,this.getValue(y,"rotateMix",1),this.getValue(y,"translateMix",1),this.getValue(y,"scaleMix",1),this.getValue(y,"shearMix",1)),this.readCurve(y,m,g),g++}a.push(m),i=Math.max(i,m.frames[(m.getFrameCount()-1)*p.TransformConstraintTimeline.ENTRIES])}if(t.paths)for(var S in t.paths){var I=t.paths[S],P=n.findPathConstraintIndex(S);if(P==-1)throw new Error("Path constraint not found: "+S);var C=n.pathConstraints[P];for(var c in I){var d=I[c];if("position"===c||"spacing"===c){var m=null,w=1;"spacing"===c?(m=new p.PathConstraintSpacingTimeline(d.length),C.spacingMode!=l.SpacingMode.Length&&C.spacingMode!=l.SpacingMode.Fixed||(w=r)):(m=new p.PathConstraintPositionTimeline(d.length),C.positionMode==l.PositionMode.Fixed&&(w=r)),m.pathConstraintIndex=P;for(var g=0,v=0;v<d.length;v++){var y=d[v];m.setFrame(g,y.time,this.getValue(y,c,0)*w),this.readCurve(y,m,g),g++}a.push(m),i=Math.max(i,m.frames[(m.getFrameCount()-1)*p.PathConstraintPositionTimeline.ENTRIES])}else if("mix"===c){var m=new p.PathConstraintMixTimeline(d.length);m.pathConstraintIndex=P;for(var g=0,v=0;v<d.length;v++){var y=d[v];m.setFrame(g,y.time,this.getValue(y,"rotateMix",1),this.getValue(y,"translateMix",1)),this.readCurve(y,m,g),g++}a.push(m),i=Math.max(i,m.frames[(m.getFrameCount()-1)*p.PathConstraintMixTimeline.ENTRIES])}}}if(t.deform)for(var V in t.deform){var N=t.deform[V],D=n.findSkin(V);if(null==D)throw new Error("Skin not found: "+V);for(var s in N){var h=N[s],u=n.findSlotIndex(s);if(u==-1)throw new Error("Slot not found: "+h.name);for(var c in h){var d=h[c],k=D.getAttachment(u,c);if(null==k)throw new Error("Deform attachment not found: "+d.name);var U=null!=k.bones,_=k.vertices,O=U?_.length/3*2:_.length,m=new p.DeformTimeline(d.length);m.slotIndex=u,m.attachment=k;for(var g=0,X=0;X<d.length;X++){var y=d[X],B=void 0,F=this.getValue(y,"vertices",null);if(null==F)B=U?f.Utils.newFloatArray(O):_;else{B=f.Utils.newFloatArray(O);var Y=this.getValue(y,"offset",0);if(f.Utils.arrayCopy(F,0,B,Y,F.length),1!=r)for(var v=Y,L=v+F.length;v<L;v++)B[v]*=r;if(!U)for(var v=0;v<O;v++)B[v]+=_[v]}m.setFrame(g,y.time,B),this.readCurve(y,m,g),g++}a.push(m),i=Math.max(i,m.frames[m.getFrameCount()-1])}}}var W=t.drawOrder;if(null==W&&(W=t.draworder),null!=W){for(var m=new p.DrawOrderTimeline(W.length),q=n.slots.length,g=0,X=0;X<W.length;X++){var j=W[X],Z=null,z=this.getValue(j,"offsets",null);if(null!=z){Z=f.Utils.newArray(q,-1);for(var H=f.Utils.newArray(q-z.length,0),G=0,J=0,v=0;v<z.length;v++){var K=z[v],u=n.findSlotIndex(K.slot);if(u==-1)throw new Error("Slot not found: "+K.slot);for(;G!=u;)H[J++]=G++;Z[G+K.offset]=G++}for(;G<q;)H[J++]=G++;for(var v=q-1;v>=0;v--)Z[v]==-1&&(Z[v]=H[--J])}m.setFrame(g++,j.time,Z)}a.push(m),i=Math.max(i,m.frames[m.getFrameCount()-1])}if(t.events){for(var m=new p.EventTimeline(t.events.length),g=0,v=0;v<t.events.length;v++){var Q=t.events[v],$=n.findEvent(Q.name);if(null==$)throw new Error("Event not found: "+Q.name);var tt=new o.Event(Q.time,$);tt.intValue=this.getValue(Q,"int",$.intValue),tt.floatValue=this.getValue(Q,"float",$.floatValue),tt.stringValue=this.getValue(Q,"string",$.stringValue),m.setFrame(g++,tt)}a.push(m),i=Math.max(i,m.frames[m.getFrameCount()-1])}if(isNaN(i))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new p.Animation(e,a,i))},t.prototype.readCurve=function(t,e,n){if(t.curve)if("stepped"===t.curve)e.setStepped(n);else if("[object Array]"===Object.prototype.toString.call(t.curve)){var r=t.curve;e.setCurve(n,r[0],r[1],r[2],r[3])}},t.prototype.getValue=function(t,e,n){return void 0!==t[e]?t[e]:n},t.blendModeFromString=function(t){if("multiply"===t)return PIXI.BLEND_MODES.MULTIPLY;if("additive"===t)return PIXI.BLEND_MODES.ADD;if("screen"===t)return PIXI.BLEND_MODES.SCREEN;if("normal"===t)return PIXI.BLEND_MODES.NORMAL;throw new Error("Unknown blend mode: "+t)},t.positionModeFromString=function(t){if(t=t.toLowerCase(),"fixed"==t)return l.PositionMode.Fixed;if("percent"==t)return l.PositionMode.Percent;throw new Error("Unknown position mode: "+t)},t.spacingModeFromString=function(t){if(t=t.toLowerCase(),"length"==t)return l.SpacingMode.Length;if("fixed"==t)return l.SpacingMode.Fixed;if("percent"==t)return l.SpacingMode.Percent;throw new Error("Unknown position mode: "+t)},t.rotateModeFromString=function(t){if(t=t.toLowerCase(),"tangent"==t)return l.RotateMode.Tangent;if("chain"==t)return l.RotateMode.Chain;if("chainscale"==t)return l.RotateMode.ChainScale;throw new Error("Unknown rotate mode: "+t)},t.transformModeFromString=function(t){if(t=t.toLowerCase(),"normal"==t)return a.TransformMode.Normal;if("onlytranslation"==t)return a.TransformMode.OnlyTranslation;if("norotationorreflection"==t)return a.TransformMode.NoRotationOrReflection;if("noscale"==t)return a.TransformMode.NoScale;if("noscaleorreflection"==t)return a.TransformMode.NoScaleOrReflection;throw new Error("Unknown transform mode: "+t)},t.transformModeLegacy=function(t,e){return t&&e?a.TransformMode.Normal:t?a.TransformMode.InheritRotation:e?a.TransformMode.InheritScale:a.TransformMode.OnlyTranslation},t}();n.SkeletonJson=d;var m=function(){function t(t,e,n,r){this.mesh=t,this.skin=e,this.slotIndex=n,this.parent=r}return t}()},{"./Animation":2,"./BoneData":8,"./Event":9,"./EventData":10,"./IkConstraintData":12,"./PathConstraintData":14,"./SkeletonData":17,"./Skin":19,"./SlotData":21,"./TransformConstraintData":25,"./Utils":26}],19:[function(t,e,n){"use strict";var r=function(){function t(t){if(this.attachments=new Array,null==t)throw new Error("name cannot be null.");this.name=t}return t.prototype.addAttachment=function(t,e,n){if(null==n)throw new Error("attachment cannot be null.");var r=this.attachments;t>=r.length&&(r.length=t+1),r[t]||(r[t]={}),r[t][e]=n},t.prototype.getAttachment=function(t,e){var n=this.attachments[t];return n?n[e]:null},t.prototype.attachAll=function(t,e){for(var n=0,r=0;r<t.slots.length;r++){var a=t.slots[r],i=a.getAttachment();if(i&&n<e.attachments.length){var o=e.attachments[n];for(var s in o){var h=o[s];if(i==h){var l=this.getAttachment(n,name);null!=l&&a.setAttachment(l);break}}}n++}},t}();n.Skin=r},{}],20:[function(t,e,n){"use strict";var r=t("./Utils"),a=function(){function t(t,e){if(this.attachmentVertices=new Array,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("bone cannot be null.");this.data=t,this.bone=e,this.color=new r.Color,this.blendMode=t.blendMode,this.setToSetupPose()}return t.prototype.getAttachment=function(){return this.attachment},t.prototype.setAttachment=function(t){this.attachment!=t&&(this.attachment=t,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)},t.prototype.setAttachmentTime=function(t){this.attachmentTime=this.bone.skeleton.time-t},t.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},t.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},t}();n.Slot=a},{"./Utils":26}],21:[function(t,e,n){"use strict";var r=t("./Utils"),a=function(){function t(t,e,n){if(this.color=new r.Color(1,1,1,1),t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");if(null==n)throw new Error("boneData cannot be null.");this.index=t,this.name=e,this.boneData=n}return t}();n.SlotData=a},{"./Utils":26}],22:[function(t,e,n){"use strict";var r=function(){function t(t){this._image=t}return t.prototype.getImage=function(){return this._image},t.filterFromString=function(t){switch(t.toLowerCase()){case"nearest":return a.Nearest;case"linear":return a.Linear;case"mipmap":return a.MipMap;case"mipmapnearestnearest":return a.MipMapNearestNearest;case"mipmaplinearnearest":return a.MipMapLinearNearest;case"mipmapnearestlinear":return a.MipMapNearestLinear;case"mipmaplinearlinear":return a.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+t)}},t.wrapFromString=function(t){switch(t.toLowerCase()){case"mirroredtepeat":return i.MirroredRepeat;case"clamptoedge":return i.ClampToEdge;case"repeat":return i.Repeat;default:throw new Error("Unknown texture wrap "+t)}},t}();n.Texture=r,function(t){t[t.Nearest=9728]="Nearest",t[t.Linear=9729]="Linear",t[t.MipMap=9987]="MipMap",t[t.MipMapNearestNearest=9984]="MipMapNearestNearest",t[t.MipMapLinearNearest=9985]="MipMapLinearNearest",t[t.MipMapNearestLinear=9986]="MipMapNearestLinear",t[t.MipMapLinearLinear=9987]="MipMapLinearLinear"}(n.TextureFilter||(n.TextureFilter={}));var a=n.TextureFilter;!function(t){t[t.MirroredRepeat=33648]="MirroredRepeat",t[t.ClampToEdge=33071]="ClampToEdge",t[t.Repeat=10497]="Repeat"}(n.TextureWrap||(n.TextureWrap={}));var i=n.TextureWrap,o=function(){function t(){this.size=null}return Object.defineProperty(t.prototype,"width",{get:function(){var t=this.texture;return"3"==PIXI.VERSION[0]?t.crop.width:t.trim?t.trim.width:t.orig.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var t=this.texture;return"3"==PIXI.VERSION[0]?t.crop.height:t.trim?t.trim.height:t.orig.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"u",{get:function(){return this.texture._uvs.x0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"v",{get:function(){return this.texture._uvs.y0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"u2",{get:function(){return this.texture._uvs.x2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"v2",{get:function(){return this.texture._uvs.y2},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offsetX",{get:function(){var t=this.texture;return t.trim?t.trim.x:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"offsetY",{get:function(){return console.warn("Deprecation Warning: @Hackerham: I guess, if you are using PIXI-SPINE ATLAS region.offsetY, you want a texture, right? Use region.texture from now on."),this.spineOffsetY},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pixiOffsetY",{get:function(){var t=this.texture;return t.trim?t.trim.y:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spineOffsetY",{get:function(){var t=this.texture;return this.originalHeight-this.height-(t.trim?t.trim.y:0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalWidth",{get:function(){var t=this.texture;return"3"==PIXI.VERSION[0]?t.trim?t.trim.width:t.crop.width:t.orig.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"originalHeight",{get:function(){var t=this.texture;return"3"==PIXI.VERSION[0]?t.trim?t.trim.height:t.crop.height:t.orig.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this.texture.frame.x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.texture.frame.y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return 0!==this.texture.rotate},enumerable:!0,configurable:!0}),t}();n.TextureRegion=o},{}],23:[function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=t("./Texture"),i=function(){function t(t,e,n){this.pages=new Array,this.regions=new Array,t&&this.addSpineAtlas(t,e,n)}return t.prototype.addTexture=function(t,e){for(var n=this.pages,r=null,i=0;i<n.length;i++)if(n[i].baseTexture===e.baseTexture){r=n[i];break}if(null===r){r=new s,r.name="texturePage";var o=e.baseTexture;r.width=o.realWidth,r.height=o.realHeight,r.baseTexture=o,r.minFilter=r.magFilter=a.TextureFilter.Nearest,r.uWrap=a.TextureWrap.ClampToEdge,r.vWrap=a.TextureWrap.ClampToEdge,n.push(r)}var l=new h;return l.name=t,l.page=r,l.texture=e,l.index=-1,this.regions.push(l),l},t.prototype.addTextureHash=function(t,e){for(var n in t)t.hasOwnProperty(n)&&this.addTexture(e&&n.indexOf(".")!==-1?n.substr(0,n.lastIndexOf(".")):n,t[n])},t.prototype.addSpineAtlas=function(t,e,n){return this.load(t,e,n)},t.prototype.load=function(t,e,n){var r=this;if(null==e)throw new Error("textureLoader cannot be null.");var i=new o(t),l=new Array(4),u=null,c=function(){for(;;){var t=i.readLine();if(null==t)return n&&n(r);if(t=t.trim(),0==t.length)u=null;else{if(!u){u=new s,u.name=t,2==i.readTuple(l)&&(u.width=parseInt(l[0]),u.height=parseInt(l[1]),i.readTuple(l)),i.readTuple(l),u.minFilter=a.Texture.filterFromString(l[0]),u.magFilter=a.Texture.filterFromString(l[1]);var o=i.readValue();u.uWrap=a.TextureWrap.ClampToEdge,u.vWrap=a.TextureWrap.ClampToEdge,"x"==o?u.uWrap=a.TextureWrap.Repeat:"y"==o?u.vWrap=a.TextureWrap.Repeat:"xy"==o&&(u.uWrap=u.vWrap=a.TextureWrap.Repeat),e(t,function(t){u.baseTexture=t,t.hasLoaded||(t.width=u.width,t.height=u.height),r.pages.push(u),u.setFilters(),u.width&&u.height||(u.width=t.realWidth,u.height=t.realHeight,u.width&&u.height||console.log("ERROR spine atlas page "+u.name+": meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)")),c()}),r.pages.push(u);break}var f=new h;f.name=t,f.page=u;var p="true"==i.readValue()?6:0;i.readTuple(l);var d=parseInt(l[0]),m=parseInt(l[1]);i.readTuple(l);var g=parseInt(l[0]),v=parseInt(l[1]),y=u.baseTexture.resolution;d/=y,m/=y,g/=y,v/=y;var x=new PIXI.Rectangle(d,m,p?v:g,p?g:v);4==i.readTuple(l)&&4==i.readTuple(l)&&i.readTuple(l);var M=parseInt(l[0])/y,E=parseInt(l[1])/y;i.readTuple(l);var T=parseInt(l[0])/y,w=parseInt(l[1])/y,b=new PIXI.Rectangle(0,0,M,E),A=new PIXI.Rectangle(T,E-v-w,g,v);if("4"==PIXI.VERSION[0])f.texture=new PIXI.Texture(f.page.baseTexture,x,b,A,p);else{var S=new PIXI.Rectangle(d,m,g,v),I=S.clone();A.width=M,A.height=E,f.texture=new PIXI.Texture(f.page.baseTexture,S,I,A,p)}f.index=parseInt(i.readValue()),f.texture._updateUvs(),r.regions.push(f)}}};c()},t.prototype.findRegion=function(t){for(var e=0;e<this.regions.length;e++)if(this.regions[e].name==t)return this.regions[e];return null},t.prototype.dispose=function(){for(var t=0;t<this.pages.length;t++)this.pages[t].baseTexture.dispose()},t}();n.TextureAtlas=i;var o=function(){function t(t){this.index=0,this.lines=t.split(/\r\n|\r|\n/)}return t.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},t.prototype.readValue=function(){var t=this.readLine(),e=t.indexOf(":");if(e==-1)throw new Error("Invalid line: "+t);return t.substring(e+1).trim()},t.prototype.readTuple=function(t){var e=this.readLine(),n=e.indexOf(":");if(n==-1)throw new Error("Invalid line: "+e);for(var r=0,a=n+1;r<3;r++){var i=e.indexOf(",",a);if(i==-1)break;t[r]=e.substr(a,i-a).trim(),a=i+1}return t[r]=e.substring(a).trim(),r+1},t}(),s=function(){function t(){}return t.prototype.setFilters=function(){var t=this.baseTexture,e=this.minFilter;e==a.TextureFilter.Linear?t.scaleMode=PIXI.SCALE_MODES.LINEAR:this.minFilter==a.TextureFilter.Nearest?t.scaleMode=PIXI.SCALE_MODES.NEAREST:(t.mipmap=!0,e==a.TextureFilter.MipMapNearestNearest?t.scaleMode=PIXI.SCALE_MODES.NEAREST:t.scaleMode=PIXI.SCALE_MODES.LINEAR)},t}();n.TextureAtlasPage=s;var h=function(t){function e(){t.apply(this,arguments)}return r(e,t),e}(a.TextureRegion);n.TextureAtlasRegion=h},{"./Texture":22}],24:[function(t,e,n){"use strict";var r=t("./Utils"),a=function(){function t(t,e){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new r.Vector2,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix,this.scaleMix=t.scaleMix,this.shearMix=t.shearMix,this.bones=new Array;for(var n=0;n<t.bones.length;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findBone(t.target.name)}return t.prototype.apply=function(){this.update()},t.prototype.update=function(){for(var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,a=this.shearMix,i=this.target,o=i.matrix.a,s=i.matrix.c,h=i.matrix.b,l=i.matrix.d,u=this.bones,c=0,f=u.length;c<f;c++){var p=u[c],d=p.matrix,m=!1;if(0!=t){var g=d.a,v=d.c,y=d.b,x=d.d,M=Math.atan2(h,o)-Math.atan2(y,g)+this.data.offsetRotation*r.MathUtils.degRad;M>r.MathUtils.PI?M-=r.MathUtils.PI2:M<-r.MathUtils.PI&&(M+=r.MathUtils.PI2),M*=t;var E=Math.cos(M),T=Math.sin(M);d.a=E*g-T*y,d.c=E*v-T*x,d.b=T*g+E*y,d.d=T*v+E*x,m=!0}if(0!=e){var w=this.temp;i.localToWorld(w.set(this.data.offsetX,this.data.offsetY)),d.tx+=(w.x-d.tx)*e,d.ty+=(w.y-d.ty)*e,m=!0}if(n>0){var b=Math.sqrt(d.a*d.a+d.b*d.b),A=Math.sqrt(o*o+h*h);b>1e-5&&(b=(b+(A-b+this.data.offsetScaleX)*n)/b),d.a*=b,d.b*=b,b=Math.sqrt(d.c*d.c+d.d*d.d),A=Math.sqrt(s*s+l*l),b>1e-5&&(b=(b+(A-b+this.data.offsetScaleY)*n)/b),d.c*=b,d.d*=b,m=!0}if(a>0){var v=d.c,x=d.d,S=Math.atan2(x,v),M=Math.atan2(l,s)-Math.atan2(h,o)-(S-Math.atan2(d.b,d.a));M>r.MathUtils.PI?M-=r.MathUtils.PI2:M<-r.MathUtils.PI&&(M+=r.MathUtils.PI2),M=S+(M+this.data.offsetShearY*r.MathUtils.degRad)*a;var b=Math.sqrt(v*v+x*x);d.c=Math.cos(M)*b,d.d=Math.sin(M)*b,m=!0}m&&(p.appliedValid=!1)}},t.prototype.getOrder=function(){return this.data.order},t}();n.TransformConstraint=a},{"./Utils":26}],25:[function(t,e,n){"use strict";var r=function(){function t(t){if(this.order=0,this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,null==t)throw new Error("name cannot be null.");this.name=t}return t}();n.TransformConstraintData=r},{}],26:[function(t,e,n){"use strict";var r=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.r=t,this.g=e,this.b=n,this.a=r}return t.prototype.set=function(t,e,n,r){return this.r=t,this.g=e,this.b=n,this.a=r,this.clamp(),this},t.prototype.setFromColor=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this},t.prototype.setFromString=function(t){return t="#"==t.charAt(0)?t.substr(1):t,this.r=parseInt(t.substr(0,2),16)/255,this.g=parseInt(t.substr(2,2),16)/255,this.b=parseInt(t.substr(4,2),16)/255,this.a=(8!=t.length?255:parseInt(t.substr(6,2),16))/255,this},t.prototype.add=function(t,e,n,r){return this.r+=t,this.g+=e,this.b+=n,this.a+=r,this.clamp(),this},t.prototype.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},t.WHITE=new t(1,1,1,1),t.RED=new t(1,0,0,1),t.GREEN=new t(0,1,0,1),t.BLUE=new t(0,0,1,1),t.MAGENTA=new t(1,0,1,1),t}();n.Color=r;var a=function(){function t(){}return t.clamp=function(t,e,n){return t<e?e:t>n?n:t},t.cosDeg=function(e){return Math.cos(e*t.degRad)},t.sinDeg=function(e){return Math.sin(e*t.degRad)},t.signum=function(t){return t>=0?1:-1},t.toInt=function(t){return t>0?Math.floor(t):Math.ceil(t)},t.cbrt=function(t){var e=Math.pow(Math.abs(t),1/3);return t<0?-e:e},t.PI=3.1415927,t.PI2=2*t.PI,t.radiansToDegrees=180/t.PI,t.radDeg=t.radiansToDegrees,t.degreesToRadians=t.PI/180,t.degRad=t.degreesToRadians,t}();n.MathUtils=a;var i=function(){function t(){}return t.arrayCopy=function(t,e,n,r,a){for(var i=e,o=r;i<e+a;i++,o++)n[o]=t[i]},t.setArraySize=function(t,e,n){void 0===n&&(n=0);var r=t.length;if(r==e)return t;if(t.length=e,r<e)for(var a=r;a<e;a++)t[a]=n;return t},t.newArray=function(t,e){for(var n=new Array(t),r=0;r<t;r++)n[r]=e;return n},t.newFloatArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Float32Array(e);for(var n=new Array(e),r=0;r<n.length;r++)n[r]=0;return n},t.toFloatArray=function(e){return t.SUPPORTS_TYPED_ARRAYS?new Float32Array(e):e},t.SUPPORTS_TYPED_ARRAYS="undefined"!=typeof Float32Array,t}();n.Utils=i;var o=function(){function t(){}return t.logBones=function(t){for(var e=0;e<t.bones.length;e++){var n=t.bones[e],r=n.matrix;console.log(n.data.name+", "+r.a+", "+r.b+", "+r.c+", "+r.d+", "+r.tx+", "+r.ty)}},t}();n.DebugUtils=o;var s=function(){function t(t){this.items=new Array,this.instantiator=t}return t.prototype.obtain=function(){return this.items.length>0?this.items.pop():this.instantiator()},t.prototype.free=function(t){this.items.push(t)},t.prototype.freeAll=function(t){for(var e=0;e<t.length;e++)this.items[e]=t[e]},t.prototype.clear=function(){this.items.length=0},t}();n.Pool=s;var h=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t.prototype.length=function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},t.prototype.normalize=function(){var t=this.length();return 0!=t&&(this.x/=t,this.y/=t),this},t}();n.Vector2=h;var l=function(){function t(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}return t.prototype.update=function(){var t=Date.now()/1e3;this.delta=t-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=t,this.frameCount++,this.frameTime>1&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)},t}();n.TimeKeeper=l},{}],27:[function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=function(){function t(t){if(null==t)throw new Error("name cannot be null.");this.name=t}return t}();n.Attachment=a;var i=function(t){function e(e){t.call(this,e),this.worldVerticesLength=0}return r(e,t),e.prototype.computeWorldVertices=function(t,e){this.computeWorldVerticesWith(t,0,this.worldVerticesLength,e,0)},e.prototype.computeWorldVerticesWith=function(t,e,n,r,a){n+=a;var i=t.bone.skeleton,o=t.attachmentVertices,s=this.vertices,h=this.bones;if(null!=h){for(var l=0,u=0,c=0;c<e;c+=2){var f=h[l];l+=f+1,u+=f}var p=i.bones;if(0==o.length)for(var d=a,m=3*u;d<n;d+=2){var g=0,v=0,f=h[l++];for(f+=l;l<f;l++,m+=3){var y=p[h[l]],x=y.matrix,M=s[m],E=s[m+1],T=s[m+2];g+=(M*x.a+E*x.c+x.tx)*T,v+=(M*x.b+E*x.d+x.ty)*T}r[d]=g,r[d+1]=v}else for(var w=o,d=a,m=3*u,b=u<<1;d<n;d+=2){var g=0,v=0,f=h[l++];for(f+=l;l<f;l++,m+=3,b+=2){var y=p[h[l]],x=y.matrix,M=s[m]+w[b],E=s[m+1]+w[b+1],T=s[m+2];g+=(M*x.a+E*x.c+x.tx)*T,v+=(M*x.b+E*x.d+x.ty)*T}r[d]=g,r[d+1]=v}}else{o.length>0&&(s=o);for(var y=t.bone,x=y.matrix,A=x.tx,S=x.ty,I=x.a,m=x.c,R=x.b,P=x.d,C=e,d=a;d<n;C+=2,d+=2){var M=s[C],E=s[C+1];r[d]=M*I+E*m+A,r[d+1]=M*R+E*P+S}}},e.prototype.applyDeform=function(t){return this==t},e}(a);n.VertexAttachment=i},{}],28:[function(t,e,n){"use strict";!function(t){t[t.Region=0]="Region",t[t.BoundingBox=1]="BoundingBox",t[t.Mesh=2]="Mesh",t[t.LinkedMesh=3]="LinkedMesh",t[t.Path=4]="Path"}(n.AttachmentType||(n.AttachmentType={}));n.AttachmentType},{}],29:[function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=t("./Attachment"),i=t("../Utils"),o=function(t){function e(e){t.call(this,e),this.color=new i.Color(1,1,1,1)}return r(e,t),e}(a.VertexAttachment);n.BoundingBoxAttachment=o},{"../Utils":26,"./Attachment":27}],30:[function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=t("./Attachment"),i=t("../Utils"),o=function(t){function e(e){t.call(this,e),this.color=new i.Color(1,1,1,1),this.inheritDeform=!1,this.tempColor=new i.Color(0,0,0,0)}return r(e,t),e.prototype.updateWorldVertices=function(t,e){return[]},e.prototype.updateUVs=function(t,e){var n=this.regionUVs,r=n.length;if(e&&e.length==r||(e=i.Utils.newFloatArray(r)),null!=t){for(var a=t.texture,o=a._uvs,s=t.width,h=t.height,l=t.originalWidth,u=t.originalHeight,c=t.offsetX,f=t.pixiOffsetY,p=0;p<r;p+=2){var d=this.regionUVs[p],m=this.regionUVs[p+1];d=(d*l-c)/s,m=(m*u-f)/h,e[p]=(o.x0*(1-d)+o.x1*d)*(1-m)+(o.x3*(1-d)+o.x2*d)*m,e[p+1]=(o.y0*(1-d)+o.y1*d)*(1-m)+(o.y3*(1-d)+o.y2*d)*m}return e}},e.prototype.applyDeform=function(t){return this==t||this.inheritDeform&&this.parentMesh==t},e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(t){this.parentMesh=t,null!=t&&(this.bones=t.bones,this.vertices=t.vertices,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength)},e}(a.VertexAttachment);n.MeshAttachment=o},{"../Utils":26,"./Attachment":27}],31:[function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=t("./Attachment"),i=t("../Utils"),o=function(t){function e(e){t.call(this,e),this.closed=!1,this.constantSpeed=!1,this.color=new i.Color(1,1,1,1)}return r(e,t),e}(a.VertexAttachment);n.PathAttachment=o},{"../Utils":26,"./Attachment":27}],32:[function(t,e,n){"use strict";var r=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},a=t("./Attachment"),i=t("../Utils"),o=function(t){function e(e){t.call(this,e),this.x=0,this.y=0,this.scaleX=1,this.scaleY=1,this.rotation=0,this.width=0,this.height=0,this.color=new i.Color(1,1,1,1)}return r(e,t),e.prototype.updateWorldVertices=function(t,e){return[]},e}(a.Attachment);n.RegionAttachment=o},{"../Utils":26,"./Attachment":27}],33:[function(t,e,n){"use strict";var r=t("./Attachment");n.Attachment=r.Attachment,n.VertexAttachment=r.VertexAttachment;var a=t("./AttachmentType");n.AttachmentType=a.AttachmentType;var i=t("./BoundingBoxAttachment");n.BoundingBoxAttachment=i.BoundingBoxAttachment;var o=t("./MeshAttachment");n.MeshAttachment=o.MeshAttachment;var s=t("./PathAttachment");n.PathAttachment=s.PathAttachment;var h=t("./RegionAttachment");n.RegionAttachment=h.RegionAttachment},{"./Attachment":27,"./AttachmentType":28,"./BoundingBoxAttachment":29,"./MeshAttachment":30,"./PathAttachment":31,"./RegionAttachment":32}],34:[function(t,e,n){"use strict";function r(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}r(t("./attachments"));var a=t("./Animation");n.ColorTimeline=a.ColorTimeline,n.AttachmentTimeline=a.AttachmentTimeline,n.RotateTimeline=a.RotateTimeline,n.TranslateTimeline=a.TranslateTimeline,n.ScaleTimeline=a.ScaleTimeline,n.ShearTimeline=a.ShearTimeline,n.IkConstraintTimeline=a.IkConstraintTimeline,n.TransformConstraintTimeline=a.TransformConstraintTimeline,n.PathConstraintPositionTimeline=a.PathConstraintPositionTimeline,n.PathConstraintSpacingTimeline=a.PathConstraintSpacingTimeline,n.PathConstraintMixTimeline=a.PathConstraintMixTimeline,n.DeformTimeline=a.DeformTimeline,n.DrawOrderTimeline=a.DrawOrderTimeline,n.EventTimeline=a.EventTimeline,n.Animation=a.Animation,n.CurveTimeline=a.CurveTimeline;var i=t("./AnimationState");n.AnimationState=i.AnimationState;var o=t("./AnimationStateData");n.AnimationStateData=o.AnimationStateData;var s=t("./BlendMode");n.BlendMode=s.BlendMode;var h=t("./Bone");n.Bone=h.Bone;var l=t("./BoneData");n.BoneData=l.BoneData,n.TransformMode=l.TransformMode;var u=t("./Event");n.Event=u.Event;var c=t("./EventData");n.EventData=c.EventData;var f=t("./IkConstraint");n.IkConstraint=f.IkConstraint;var p=t("./IkConstraintData");n.IkConstraintData=p.IkConstraintData;var d=t("./PathConstraint");n.PathConstraint=d.PathConstraint;var m=t("./PathConstraintData");n.PathConstraintData=m.PathConstraintData,n.SpacingMode=m.SpacingMode,n.RotateMode=m.RotateMode,n.PositionMode=m.PositionMode;var g=t("./Skeleton");n.Skeleton=g.Skeleton;var v=t("./SkeletonBounds");n.SkeletonBounds=v.SkeletonBounds;var y=t("./SkeletonData");n.SkeletonData=y.SkeletonData;var x=t("./SkeletonJson");n.SkeletonJson=x.SkeletonJson;var M=t("./Skin");n.Skin=M.Skin;var E=t("./Slot");n.Slot=E.Slot;var T=t("./SlotData");n.SlotData=T.SlotData;var w=t("./Texture");n.Texture=w.Texture,n.TextureWrap=w.TextureWrap,n.TextureRegion=w.TextureRegion,n.TextureFilter=w.TextureFilter;var b=t("./TextureAtlas");n.TextureAtlas=b.TextureAtlas,n.TextureAtlasRegion=b.TextureAtlasRegion;var A=t("./AtlasAttachmentLoader");n.AtlasAttachmentLoader=A.AtlasAttachmentLoader;var S=t("./TransformConstraint");n.TransformConstraint=S.TransformConstraint;var I=t("./TransformConstraintData");n.TransformConstraintData=I.TransformConstraintData;var R=t("./Utils");n.Utils=R.Utils,n.Pool=R.Pool,n.MathUtils=R.MathUtils,n.Color=R.Color,n.Vector2=R.Vector2},{"./Animation":2,"./AnimationState":3,"./AnimationStateData":4,"./AtlasAttachmentLoader":5,"./BlendMode":6,"./Bone":7,"./BoneData":8,"./Event":9,"./EventData":10,"./IkConstraint":11,"./IkConstraintData":12,"./PathConstraint":13,"./PathConstraintData":14,"./Skeleton":15,"./SkeletonBounds":16,"./SkeletonData":17,"./SkeletonJson":18,"./Skin":19,"./Slot":20,"./SlotData":21,"./Texture":22,"./TextureAtlas":23,"./TransformConstraint":24,"./TransformConstraintData":25,"./Utils":26,"./attachments":33}],35:[function(t,e,n){"use strict";function r(){return function(t,e){if(!t.data||!t.isJson||!t.data.bones)return e();
var n=t.metadata?t.metadata.spineAtlas:null;if(n===!1)return e();if(n&&n.pages){var r=new o.SkeletonJson(new o.AtlasAttachmentLoader(n)),i=r.readSkeletonData(t.data);return t.spineData=i,t.spineAtlas=n,e()}var s=".atlas";t.metadata&&t.metadata.spineAtlasSuffix&&(s=t.metadata.spineAtlasSuffix);var h=t.url.substr(0,t.url.lastIndexOf("."))+s;h=h.replace(this.baseUrl,"");var l={crossOrigin:t.crossOrigin,xhrType:PIXI.loaders.Resource.XHR_RESPONSE_TYPE.TEXT,metadata:t.metadata?t.metadata.spineMetadata:null},u={crossOrigin:t.crossOrigin,metadata:t.metadata?t.metadata.imageMetadata:null},c=t.url.substr(0,t.url.lastIndexOf("/")+1);c=c.replace(this.baseUrl,"");var f=a(this,t.name+"_atlas_page_",c,u);this.add(t.name+"_atlas",h,l,function(){new o.TextureAtlas(this.xhr.responseText,f,function(n){var r=new o.SkeletonJson(new o.AtlasAttachmentLoader(n)),a=r.readSkeletonData(t.data);t.spineData=a,t.spineAtlas=n,e()})})}}function a(t,e,n,r){return n&&n.lastIndexOf("/")!==n.length-1&&(n+="/"),function(a,i){var o=e+a,s=n+a;t.add(o,s,r,function(t){i(t.texture.baseTexture)})}}function i(t,e){return t&&t.lastIndexOf("/")!==t.length-1&&(t+="/"),function(t,n){n(PIXI.BaseTexture.fromImage(t,e))}}var o=t("./core");n.atlasParser=r,n.imageLoaderAdapter=a,n.syncImageLoaderAdapter=i,PIXI.loaders.Loader.addPixiMiddleware(r),PIXI.loader.use(r())},{"./core":34}],36:[function(t,e,n){"use strict";var r=t("./core");n.core=r;var a=t("./loaders");n.loaders=a;var i=t("./Spine");n.Spine=i.Spine,n.SpineMesh=i.SpineMesh,n.SpineSprite=i.SpineSprite},{"./Spine":1,"./core":34,"./loaders":35}]},{},[36])(36)});
//# sourceMappingURL=pixi-spine.min.js.map
