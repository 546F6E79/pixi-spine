!function t(e,n,i){function r(o,s){if(!n[o]){if(!e[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var u=n[o]={exports:{}};e[o][0].call(u.exports,function(t){var n=e[o][1][t];return r(n?n:t)},u,u.exports,t,e,n,i)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(t,e,n){e.exports=t("pixi.js").spine={Spine:t("./Spine"),SpineRuntime:t("./SpineRuntime"),loaders:t("./loaders")}},{"./Spine":52,"./SpineRuntime":50,"./loaders":55,"pixi.js":"pixi.js"}],2:[function(t,e,n){(function(t){!function(){function n(t){var e=!1;return function(){if(e)throw new Error("Callback was already called.");e=!0,t.apply(i,arguments)}}var i,r,a={};i=this,null!=i&&(r=i.async),a.noConflict=function(){return i.async=r,a};var o=Object.prototype.toString,s=Array.isArray||function(t){return"[object Array]"===o.call(t)},l=function(t,e){if(t.forEach)return t.forEach(e);for(var n=0;n<t.length;n+=1)e(t[n],n,t)},h=function(t,e){if(t.map)return t.map(e);var n=[];return l(t,function(t,i,r){n.push(e(t,i,r))}),n},u=function(t,e,n){return t.reduce?t.reduce(e,n):(l(t,function(t,i,r){n=e(n,t,i,r)}),n)},c=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e};"undefined"!=typeof t&&t.nextTick?(a.nextTick=t.nextTick,a.setImmediate="undefined"!=typeof setImmediate?function(t){setImmediate(t)}:a.nextTick):"function"==typeof setImmediate?(a.nextTick=function(t){setImmediate(t)},a.setImmediate=a.nextTick):(a.nextTick=function(t){setTimeout(t,0)},a.setImmediate=a.nextTick),a.each=function(t,e,i){function r(e){e?(i(e),i=function(){}):(a+=1,a>=t.length&&i())}if(i=i||function(){},!t.length)return i();var a=0;l(t,function(t){e(t,n(r))})},a.forEach=a.each,a.eachSeries=function(t,e,n){if(n=n||function(){},!t.length)return n();var i=0,r=function(){e(t[i],function(e){e?(n(e),n=function(){}):(i+=1,i>=t.length?n():r())})};r()},a.forEachSeries=a.eachSeries,a.eachLimit=function(t,e,n,i){var r=f(e);r.apply(null,[t,n,i])},a.forEachLimit=a.eachLimit;var f=function(t){return function(e,n,i){if(i=i||function(){},!e.length||0>=t)return i();var r=0,a=0,o=0;!function s(){if(r>=e.length)return i();for(;t>o&&a<e.length;)a+=1,o+=1,n(e[a-1],function(t){t?(i(t),i=function(){}):(r+=1,o-=1,r>=e.length?i():s())})}()}},p=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[a.each].concat(e))}},m=function(t,e){return function(){var n=Array.prototype.slice.call(arguments);return e.apply(null,[f(t)].concat(n))}},d=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[a.eachSeries].concat(e))}},v=function(t,e,n,i){if(e=h(e,function(t,e){return{index:e,value:t}}),i){var r=[];t(e,function(t,e){n(t.value,function(n,i){r[t.index]=i,e(n)})},function(t){i(t,r)})}else t(e,function(t,e){n(t.value,function(t){e(t)})})};a.map=p(v),a.mapSeries=d(v),a.mapLimit=function(t,e,n,i){return g(e)(t,n,i)};var g=function(t){return m(t,v)};a.reduce=function(t,e,n,i){a.eachSeries(t,function(t,i){n(e,t,function(t,n){e=n,i(t)})},function(t){i(t,e)})},a.inject=a.reduce,a.foldl=a.reduce,a.reduceRight=function(t,e,n,i){var r=h(t,function(t){return t}).reverse();a.reduce(r,e,n,i)},a.foldr=a.reduceRight;var y=function(t,e,n,i){var r=[];e=h(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){n(t.value,function(n){n&&r.push(t),e()})},function(t){i(h(r.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};a.filter=p(y),a.filterSeries=d(y),a.select=a.filter,a.selectSeries=a.filterSeries;var x=function(t,e,n,i){var r=[];e=h(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){n(t.value,function(n){n||r.push(t),e()})},function(t){i(h(r.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};a.reject=p(x),a.rejectSeries=d(x);var S=function(t,e,n,i){t(e,function(t,e){n(t,function(n){n?(i(t),i=function(){}):e()})},function(t){i()})};a.detect=p(S),a.detectSeries=d(S),a.some=function(t,e,n){a.each(t,function(t,i){e(t,function(t){t&&(n(!0),n=function(){}),i()})},function(t){n(!1)})},a.any=a.some,a.every=function(t,e,n){a.each(t,function(t,i){e(t,function(t){t||(n(!1),n=function(){}),i()})},function(t){n(!0)})},a.all=a.every,a.sortBy=function(t,e,n){a.map(t,function(t,n){e(t,function(e,i){e?n(e):n(null,{value:t,criteria:i})})},function(t,e){if(t)return n(t);var i=function(t,e){var n=t.criteria,i=e.criteria;return i>n?-1:n>i?1:0};n(null,h(e.sort(i),function(t){return t.value}))})},a.auto=function(t,e){e=e||function(){};var n=c(t),i=n.length;if(!i)return e();var r={},o=[],h=function(t){o.unshift(t)},f=function(t){for(var e=0;e<o.length;e+=1)if(o[e]===t)return void o.splice(e,1)},p=function(){i--,l(o.slice(0),function(t){t()})};h(function(){if(!i){var t=e;e=function(){},t(null,r)}}),l(n,function(n){var i=s(t[n])?t[n]:[t[n]],o=function(t){var i=Array.prototype.slice.call(arguments,1);if(i.length<=1&&(i=i[0]),t){var o={};l(c(r),function(t){o[t]=r[t]}),o[n]=i,e(t,o),e=function(){}}else r[n]=i,a.setImmediate(p)},m=i.slice(0,Math.abs(i.length-1))||[],d=function(){return u(m,function(t,e){return t&&r.hasOwnProperty(e)},!0)&&!r.hasOwnProperty(n)};if(d())i[i.length-1](o,r);else{var v=function(){d()&&(f(v),i[i.length-1](o,r))};h(v)}})},a.retry=function(t,e,n){var i=5,r=[];"function"==typeof t&&(n=e,e=t,t=i),t=parseInt(t,10)||i;var o=function(i,o){for(var s=function(t,e){return function(n){t(function(t,i){n(!t||e,{err:t,result:i})},o)}};t;)r.push(s(e,!(t-=1)));a.series(r,function(t,e){e=e[e.length-1],(i||n)(e.err,e.result)})};return n?o():o},a.waterfall=function(t,e){if(e=e||function(){},!s(t)){var n=new Error("First argument to waterfall must be an array of functions");return e(n)}if(!t.length)return e();var i=function(t){return function(n){if(n)e.apply(null,arguments),e=function(){};else{var r=Array.prototype.slice.call(arguments,1),o=t.next();r.push(o?i(o):e),a.setImmediate(function(){t.apply(null,r)})}}};i(a.iterator(t))()};var A=function(t,e,n){if(n=n||function(){},s(e))t.map(e,function(t,e){t&&t(function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),e.call(null,t,n)})},n);else{var i={};t.each(c(e),function(t,n){e[t](function(e){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),i[t]=r,n(e)})},function(t){n(t,i)})}};a.parallel=function(t,e){A({map:a.map,each:a.each},t,e)},a.parallelLimit=function(t,e,n){A({map:g(e),each:f(e)},t,n)},a.series=function(t,e){if(e=e||function(){},s(t))a.mapSeries(t,function(t,e){t&&t(function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),e.call(null,t,n)})},e);else{var n={};a.eachSeries(c(t),function(e,i){t[e](function(t){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),n[e]=r,i(t)})},function(t){e(t,n)})}},a.iterator=function(t){var e=function(n){var i=function(){return t.length&&t[n].apply(null,arguments),i.next()};return i.next=function(){return n<t.length-1?e(n+1):null},i};return e(0)},a.apply=function(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e.concat(Array.prototype.slice.call(arguments)))}};var T=function(t,e,n,i){var r=[];t(e,function(t,e){n(t,function(t,n){r=r.concat(n||[]),e(t)})},function(t){i(t,r)})};a.concat=p(T),a.concatSeries=d(T),a.whilst=function(t,e,n){t()?e(function(i){return i?n(i):void a.whilst(t,e,n)}):n()},a.doWhilst=function(t,e,n){t(function(i){if(i)return n(i);var r=Array.prototype.slice.call(arguments,1);e.apply(null,r)?a.doWhilst(t,e,n):n()})},a.until=function(t,e,n){t()?n():e(function(i){return i?n(i):void a.until(t,e,n)})},a.doUntil=function(t,e,n){t(function(i){if(i)return n(i);var r=Array.prototype.slice.call(arguments,1);e.apply(null,r)?n():a.doUntil(t,e,n)})},a.queue=function(t,e){function i(t,e,n,i){return t.started||(t.started=!0),s(e)||(e=[e]),0==e.length?a.setImmediate(function(){t.drain&&t.drain()}):void l(e,function(e){var r={data:e,callback:"function"==typeof i?i:null};n?t.tasks.unshift(r):t.tasks.push(r),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),a.setImmediate(t.process)})}void 0===e&&(e=1);var r=0,o={tasks:[],concurrency:e,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(t,e){i(o,t,!1,e)},kill:function(){o.drain=null,o.tasks=[]},unshift:function(t,e){i(o,t,!0,e)},process:function(){if(!o.paused&&r<o.concurrency&&o.tasks.length){var e=o.tasks.shift();o.empty&&0===o.tasks.length&&o.empty(),r+=1;var i=function(){r-=1,e.callback&&e.callback.apply(e,arguments),o.drain&&o.tasks.length+r===0&&o.drain(),o.process()},a=n(i);t(e.data,a)}},length:function(){return o.tasks.length},running:function(){return r},idle:function(){return o.tasks.length+r===0},pause:function(){o.paused!==!0&&(o.paused=!0,o.process())},resume:function(){o.paused!==!1&&(o.paused=!1,o.process())}};return o},a.priorityQueue=function(t,e){function n(t,e){return t.priority-e.priority}function i(t,e,n){for(var i=-1,r=t.length-1;r>i;){var a=i+(r-i+1>>>1);n(e,t[a])>=0?i=a:r=a-1}return i}function r(t,e,r,o){return t.started||(t.started=!0),s(e)||(e=[e]),0==e.length?a.setImmediate(function(){t.drain&&t.drain()}):void l(e,function(e){var s={data:e,priority:r,callback:"function"==typeof o?o:null};t.tasks.splice(i(t.tasks,s,n)+1,0,s),t.saturated&&t.tasks.length===t.concurrency&&t.saturated(),a.setImmediate(t.process)})}var o=a.queue(t,e);return o.push=function(t,e,n){r(o,t,e,n)},delete o.unshift,o},a.cargo=function(t,e){var n=!1,i=[],r={tasks:i,payload:e,saturated:null,empty:null,drain:null,drained:!0,push:function(t,n){s(t)||(t=[t]),l(t,function(t){i.push({data:t,callback:"function"==typeof n?n:null}),r.drained=!1,r.saturated&&i.length===e&&r.saturated()}),a.setImmediate(r.process)},process:function o(){if(!n){if(0===i.length)return r.drain&&!r.drained&&r.drain(),void(r.drained=!0);var a="number"==typeof e?i.splice(0,e):i.splice(0,i.length),s=h(a,function(t){return t.data});r.empty&&r.empty(),n=!0,t(s,function(){n=!1;var t=arguments;l(a,function(e){e.callback&&e.callback.apply(null,t)}),o()})}},length:function(){return i.length},running:function(){return n}};return r};var w=function(t){return function(e){var n=Array.prototype.slice.call(arguments,1);e.apply(null,n.concat([function(e){var n=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(e?console.error&&console.error(e):console[t]&&l(n,function(e){console[t](e)}))}]))}};a.log=w("log"),a.dir=w("dir"),a.memoize=function(t,e){var n={},i={};e=e||function(t){return t};var r=function(){var r=Array.prototype.slice.call(arguments),o=r.pop(),s=e.apply(null,r);s in n?a.nextTick(function(){o.apply(null,n[s])}):s in i?i[s].push(o):(i[s]=[o],t.apply(null,r.concat([function(){n[s]=arguments;var t=i[s];delete i[s];for(var e=0,r=t.length;r>e;e++)t[e].apply(null,arguments)}])))};return r.memo=n,r.unmemoized=t,r},a.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},a.times=function(t,e,n){for(var i=[],r=0;t>r;r++)i.push(r);return a.map(i,e,n)},a.timesSeries=function(t,e,n){for(var i=[],r=0;t>r;r++)i.push(r);return a.mapSeries(i,e,n)},a.seq=function(){var t=arguments;return function(){var e=this,n=Array.prototype.slice.call(arguments),i=n.pop();a.reduce(t,n,function(t,n,i){n.apply(e,t.concat([function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);i(t,e)}]))},function(t,n){i.apply(e,[t].concat(n))})}},a.compose=function(){return a.seq.apply(null,Array.prototype.reverse.call(arguments))};var b=function(t,e){var n=function(){var n=this,i=Array.prototype.slice.call(arguments),r=i.pop();return t(e,function(t,e){t.apply(n,i.concat([e]))},r)};if(arguments.length>2){var i=Array.prototype.slice.call(arguments,2);return n.apply(this,i)}return n};a.applyEach=p(b),a.applyEachSeries=d(b),a.forever=function(t,e){function n(i){if(i){if(e)return e(i);throw i}t(n)}n()},"undefined"!=typeof e&&e.exports?e.exports=a:"undefined"!=typeof define&&define.amd?define([],function(){return a}):i.async=a}()}).call(this,t("_process"))},{_process:3}],3:[function(t,e,n){function i(){if(!s){s=!0;for(var t,e=o.length;e;){t=o,o=[];for(var n=-1;++n<e;)t[n]();e=o.length}s=!1}}function r(){}var a=e.exports={},o=[],s=!1;a.nextTick=function(t){o.push(t),s||setTimeout(i,0)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=r,a.addListener=r,a.once=r,a.off=r,a.removeListener=r,a.removeAllListeners=r,a.emit=r,a.binding=function(t){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(t){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],4:[function(t,e,n){"use strict";function i(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function r(){}r.prototype._events=void 0,r.prototype.listeners=function(t,e){var n="~"+t,i=this._events&&this._events[n];if(e)return!!i;if(!i)return[];if(this._events[n].fn)return[this._events[n].fn];for(var r=0,a=this._events[n].length,o=new Array(a);a>r;r++)o[r]=this._events[n][r].fn;return o},r.prototype.emit=function(t,e,n,i,r,a){var o="~"+t;if(!this._events||!this._events[o])return!1;var s,l,h=this._events[o],u=arguments.length;if("function"==typeof h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),u){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,n),!0;case 4:return h.fn.call(h.context,e,n,i),!0;case 5:return h.fn.call(h.context,e,n,i,r),!0;case 6:return h.fn.call(h.context,e,n,i,r,a),!0}for(l=1,s=new Array(u-1);u>l;l++)s[l-1]=arguments[l];h.fn.apply(h.context,s)}else{var c,f=h.length;for(l=0;f>l;l++)switch(h[l].once&&this.removeListener(t,h[l].fn,void 0,!0),u){case 1:h[l].fn.call(h[l].context);break;case 2:h[l].fn.call(h[l].context,e);break;case 3:h[l].fn.call(h[l].context,e,n);break;default:if(!s)for(c=1,s=new Array(u-1);u>c;c++)s[c-1]=arguments[c];h[l].fn.apply(h[l].context,s)}}return!0},r.prototype.on=function(t,e,n){var r=new i(e,n||this),a="~"+t;return this._events||(this._events={}),this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],r]:this._events[a].push(r):this._events[a]=r,this},r.prototype.once=function(t,e,n){var r=new i(e,n||this,!0),a="~"+t;return this._events||(this._events={}),this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],r]:this._events[a].push(r):this._events[a]=r,this},r.prototype.removeListener=function(t,e,n,i){var r="~"+t;if(!this._events||!this._events[r])return this;var a=this._events[r],o=[];if(e)if(a.fn)(a.fn!==e||i&&!a.once||n&&a.context!==n)&&o.push(a);else for(var s=0,l=a.length;l>s;s++)(a[s].fn!==e||i&&!a[s].once||n&&a[s].context!==n)&&o.push(a[s]);return o.length?this._events[r]=1===o.length?o[0]:o:delete this._events[r],this},r.prototype.removeAllListeners=function(t){return this._events?(t?delete this._events["~"+t]:this._events={},this):this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prototype.setMaxListeners=function(){return this},e.exports=r},{}],5:[function(t,e,n){function i(t,e){o.call(this),e=e||10,this.baseUrl=t||"",this.progress=0,this.loading=!1,this._progressChunk=0,this._beforeMiddleware=[],this._afterMiddleware=[],this._boundLoadResource=this._loadResource.bind(this),this._boundOnLoad=this._onLoad.bind(this),this._buffer=[],this._numToLoad=0,this._queue=r.queue(this._boundLoadResource,e),this.resources={}}var r=t("async"),a=t("./Resource"),o=t("eventemitter3");i.prototype=Object.create(o.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.add=i.prototype.enqueue=function(t,e,n,i){if(Array.isArray(t)){for(var r=0;r<t.length;++r)this.add(t[r]);return this}if("object"==typeof t&&(i=e||t.callback||t.onComplete,n=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(i=n,n=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof n&&(i=n,n=null),this.resources[t])throw new Error('Resource with name "'+t+'" already exists.');return 0!==e.indexOf("data:")&&(e=this.baseUrl+e),this.resources[t]=new a(t,e,n),"function"==typeof i&&this.resources[t].once("afterMiddleware",i),this._numToLoad++,this._queue.started?(this._queue.push(this.resources[t]),this._progressChunk=(100-this.progress)/(this._queue.length()+this._queue.running())):(this._buffer.push(this.resources[t]),this._progressChunk=100/this._buffer.length),this},i.prototype.before=i.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},i.prototype.after=i.prototype.use=function(t){return this._afterMiddleware.push(t),this},i.prototype.reset=function(){this._buffer.length=0,this._queue.kill(),this._queue.started=!1,this.progress=0,this._progressChunk=0,this.loading=!1},i.prototype.load=function(t){if("function"==typeof t&&this.once("complete",t),this._queue.started)return this;this.emit("start",this);for(var e=0;e<this._buffer.length;++e)this._queue.push(this._buffer[e]);return this._buffer.length=0,this},i.prototype._loadResource=function(t,e){var n=this;t._dequeue=e,this._runMiddleware(t,this._beforeMiddleware,function(){t.load(n._boundOnLoad)})},i.prototype._onComplete=function(){this.emit("complete",this,this.resources)},i.prototype._onLoad=function(t){this.progress+=this._progressChunk,this.emit("progress",this,t),t.error?this.emit("error",t.error,this,t):this.emit("load",this,t),this._runMiddleware(t,this._afterMiddleware,function(){t.emit("afterMiddleware",t),this._numToLoad--,0===this._numToLoad&&this._onComplete()}),t._dequeue()},i.prototype._runMiddleware=function(t,e,n){var i=this;r.eachSeries(e,function(e,n){e.call(i,t,n)},n.bind(this,t))},i.LOAD_TYPE=a.LOAD_TYPE,i.XHR_READY_STATE=a.XHR_READY_STATE,i.XHR_RESPONSE_TYPE=a.XHR_RESPONSE_TYPE},{"./Resource":6,async:2,eventemitter3:4}],6:[function(t,e,n){function i(t,e,n){if(a.call(this),n=n||{},"string"!=typeof t||"string"!=typeof e)throw new Error("Both name and url are required for constructing a resource.");this.name=t,this.url=e,this.data=null,this.crossOrigin=n.crossOrigin,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.error=null,this.xhr=null,this.isJson=!1,this.isXml=!1,this.isImage=!1,this.isAudio=!1,this.isVideo=!1,this._dequeue=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this)}function r(t){return t.toString().replace("object ","")}var a=t("eventemitter3"),o=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest);i.prototype=Object.create(a.prototype),i.prototype.constructor=i,e.exports=i,i.prototype.complete=function(){this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError),this.data.removeEventListener("load",this._boundComplete),this.data.removeEventListener("progress",this._boundOnProgress),this.data.removeEventListener("canplaythrough",this._boundComplete)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError),this.xhr.removeEventListener("abort",this._boundXhrOnAbort),this.xhr.removeEventListener("progress",this._boundOnProgress),this.xhr.removeEventListener("load",this._boundXhrOnLoad)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.emit("complete",this)},i.prototype.load=function(t){switch(this.emit("start",this),t&&this.once("complete",t),"string"!=typeof this.crossOrigin&&(this.crossOrigin=this._determineCrossOrigin()),this.loadType){case i.LOAD_TYPE.IMAGE:this._loadImage();break;case i.LOAD_TYPE.AUDIO:this._loadElement("audio");break;case i.LOAD_TYPE.VIDEO:this._loadElement("video");break;case i.LOAD_TYPE.XHR:default:o?this._loadXdr():this._loadXhr()}},i.prototype._loadImage=function(){this.data=new Image,this.crossOrigin&&(this.data.crossOrigin=""),this.data.src=this.url,this.isImage=!0,this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},i.prototype._loadElement=function(t){if(this.data=document.createElement(t),Array.isArray(this.url))for(var e=0;e<this.url.length;++e)this.data.appendChild(this._createSource(t,this.url[e]));else this.data.appendChild(this._createSource(t,this.url));this["is"+t[0].toUpperCase()+t.substring(1)]=!0,this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()},i.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),t.responseType=this.xhrType===i.XHR_RESPONSE_TYPE.JSON||this.xhrType===i.XHR_RESPONSE_TYPE.DOCUMENT?i.XHR_RESPONSE_TYPE.TEXT:this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},i.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXdrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){t.send()},0)},i.prototype._createSource=function(t,e,n){n||(n=t+"/"+e.substr(e.lastIndexOf(".")+1));var i=document.createElement("source");return i.src=e,i.type=n,i},i.prototype._onError=function(t){this.error=new Error("Failed to load element using "+t.target.nodeName),this.complete()},i.prototype._onProgress=function(t){t.lengthComputable&&this.emit("progress",this,t.loaded/t.total)},i.prototype._xhrOnError=function(){this.error=new Error(r(this.xhr)+" Request failed. Status: "+this.xhr.status+', text: "'+this.xhr.statusText+'"'),this.complete()},i.prototype._xhrOnAbort=function(){this.error=new Error(r(this.xhr)+" Request was aborted by the user."),this.complete()},i.prototype._xdrOnTimeout=function(){this.error=new Error(r(this.xhr)+" Request timed out."),this.complete()},i.prototype._xhrOnLoad=function(){var t=this.xhr;if(200===t.status)if(this.xhrType===i.XHR_RESPONSE_TYPE.TEXT)this.data=t.responseText;else if(this.xhrType===i.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(t.responseText),this.isJson=!0}catch(e){this.error=new Error("Error trying to parse loaded json:",e)}else if(this.xhrType===i.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var n=new DOMParser;this.data=n.parseFromString(t.responseText,"text/xml")}else{var r=document.createElement("div");r.innerHTML=t.responseText,this.data=r}this.isXml=!0}catch(e){this.error=new Error("Error trying to parse loaded xml:",e)}else this.data=t.response||t.responseText;else this.error=new Error("["+t.status+"]"+t.statusText+":"+t.responseURL);this.complete()},i.prototype._determineCrossOrigin=function(){if(0===this.url.indexOf("data:"))return"";var t=window.location,e=document.createElement("a");return e.href=this.url,e.hostname!==t.hostname||e.port!==t.port||e.protocol!==t.protocol?"anonymous":""},i.prototype._determineXhrType=function(){var t=this.url.substr(this.url.lastIndexOf(".")+1);switch(t){case"xhtml":case"html":case"htm":case"xml":case"tmx":case"tsx":case"svg":return i.XHR_RESPONSE_TYPE.DOCUMENT;case"gif":case"png":case"bmp":case"jpg":case"jpeg":case"tif":case"tiff":case"webp":return i.XHR_RESPONSE_TYPE.BLOB;case"json":return i.XHR_RESPONSE_TYPE.JSON;case"text":case"txt":default:return i.XHR_RESPONSE_TYPE.TEXT}},i.prototype._determineLoadType=function(){var t=this.url.substr(this.url.lastIndexOf(".")+1);switch(t){case"gif":case"png":case"bmp":case"jpg":case"jpeg":case"tif":case"tiff":case"webp":return i.LOAD_TYPE.IMAGE;default:return i.LOAD_TYPE.XHR}},i.prototype._getMimeFromXhrType=function(t){switch(t){case i.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case i.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case i.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case i.XHR_RESPONSE_TYPE.JSON:return"application/json";case i.XHR_RESPONSE_TYPE.DEFAULT:case i.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},i.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},i.XHR_READY_STATE={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},i.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"}},{eventemitter3:4}],7:[function(t,e,n){e.exports={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encodeBinary:function(t){for(var e,n="",i=new Array(4),r=0,a=0,o=0;r<t.length;){for(e=new Array(3),a=0;a<e.length;a++)e[a]=r<t.length?255&t.charCodeAt(r++):0;switch(i[0]=e[0]>>2,i[1]=(3&e[0])<<4|e[1]>>4,i[2]=(15&e[1])<<2|e[2]>>6,i[3]=63&e[2],o=r-(t.length-1)){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64}for(a=0;a<i.length;a++)n+=this._keyStr.charAt(i[a])}return n}}},{}],8:[function(t,e,n){e.exports=t("./Loader"),e.exports.Resource=t("./Resource"),e.exports.middleware={caching:{memory:t("./middlewares/caching/memory")},parsing:{blob:t("./middlewares/parsing/blob")}}},{"./Loader":5,"./Resource":6,"./middlewares/caching/memory":9,"./middlewares/parsing/blob":10}],9:[function(t,e,n){var i={};e.exports=function(){return function(t,e){i[t.url]?(t.data=i[t.url],t.complete()):(t.once("complete",function(){i[this.url]=this.data}),e())}}},{}],10:[function(t,e,n){var i=t("../../Resource"),r=t("../../b64");window.URL=window.URL||window.webkitURL,e.exports=function(){return function(t,e){if(!t.data)return e();if(t.xhr&&t.xhrType===i.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var n=URL.createObjectURL(t.data);t.blob=t.data,t.data=new Image,t.data.src=n,t.isImage=!0,t.data.onload=function(){URL.revokeObjectURL(n),t.data.onload=null,e()}}}else{var a=t.xhr.getResponseHeader("content-type");a&&0===a.indexOf("image")&&(t.data=new Image,t.data.src="data:"+a+";base64,"+r.encodeBinary(t.xhr.responseText),t.isImage=!0,t.data.onload=function(){t.data.onload=null,e()})}else e()}}},{"../../Resource":6,"../../b64":7}],11:[function(t,e,n){var i=t("../SpineUtil");i.Animation=function(t,e,n){this.name=t,this.timelines=e,this.duration=n},i.Animation.prototype={apply:function(t,e,n,i,r){i&&0!=this.duration&&(n%=this.duration,e%=this.duration);for(var a=this.timelines,o=0,s=a.length;s>o;o++)a[o].apply(t,e,n,r,1)},mix:function(t,e,n,i,r,a){i&&0!=this.duration&&(n%=this.duration,e%=this.duration);for(var o=this.timelines,s=0,l=o.length;l>s;s++)o[s].apply(t,e,n,r,a)}},i.Animation.binarySearch=function(t,e,n){var i=0,r=Math.floor(t.length/n)-2;if(!r)return n;for(var a=r>>>1;;){if(t[(a+1)*n]<=e?i=a+1:r=a,i==r)return(i+1)*n;a=i+r>>>1}},i.Animation.binarySearch1=function(t,e){var n=0,i=t.length-2;if(!i)return 1;for(var r=i>>>1;;){if(t[r+1]<=e?n=r+1:i=r,n==i)return n+1;r=n+i>>>1}},i.Animation.linearSearch=function(t,e,n){for(var i=0,r=t.length-n;r>=i;i+=n)if(t[i]>e)return i;return-1},e.exports=i.Animation},{"../SpineUtil":51}],12:[function(t,e,n){var i=t("../SpineUtil");i.TrackEntry=t("./TrackEntry"),i.AnimationState=function(t){this.data=t,this.tracks=[],this.events=[]},i.AnimationState.prototype={onStart:null,onEnd:null,onComplete:null,onEvent:null,timeScale:1,update:function(t){t*=this.timeScale;for(var e=0;e<this.tracks.length;e++){var n=this.tracks[e];if(n){if(n.time+=t*n.timeScale,n.previous){var i=t*n.previous.timeScale;n.previous.time+=i,n.mixTime+=i}var r=n.next;r?(r.time=n.lastTime-r.delay,r.time>=0&&this.setCurrent(e,r)):!n.loop&&n.lastTime>=n.endTime&&this.clearTrack(e)}}},apply:function(t){t.resetDrawOrder();for(var e=0;e<this.tracks.length;e++){var n=this.tracks[e];if(n){this.events.length=0;var i=n.time,r=n.lastTime,a=n.endTime,o=n.loop;!o&&i>a&&(i=a);var s=n.previous;if(s){var l=s.time;!s.loop&&l>s.endTime&&(l=s.endTime),s.animation.apply(t,l,l,s.loop,null);var h=n.mixTime/n.mixDuration*n.mix;h>=1&&(h=1,n.previous=null),n.animation.mix(t,n.lastTime,i,o,this.events,h)}else 1==n.mix?n.animation.apply(t,n.lastTime,i,o,this.events):n.animation.mix(t,n.lastTime,i,o,this.events,n.mix);for(var u=0,c=this.events.length;c>u;u++){var f=this.events[u];n.onEvent&&n.onEvent(e,f),this.onEvent&&this.onEvent(e,f)}if(o?r%a>i%a:a>r&&i>=a){var p=Math.floor(i/a);n.onComplete&&n.onComplete(e,p),this.onComplete&&this.onComplete(e,p)}n.lastTime=n.time}}},clearTracks:function(){for(var t=0,e=this.tracks.length;e>t;t++)this.clearTrack(t);this.tracks.length=0},clearTrack:function(t){if(!(t>=this.tracks.length)){var e=this.tracks[t];e&&(e.onEnd&&e.onEnd(t),this.onEnd&&this.onEnd(t),this.tracks[t]=null)}},_expandToIndex:function(t){if(t<this.tracks.length)return this.tracks[t];for(;t>=this.tracks.length;)this.tracks.push(null);return null},setCurrent:function(t,e){var n=this._expandToIndex(t);if(n){var i=n.previous;n.previous=null,n.onEnd&&n.onEnd(t),this.onEnd&&this.onEnd(t),e.mixDuration=this.data.getMix(n.animation,e.animation),e.mixDuration>0&&(e.mixTime=0,e.previous=i&&n.mixTime/n.mixDuration<.5?i:n)}this.tracks[t]=e,e.onStart&&e.onStart(t),this.onStart&&this.onStart(t)},setAnimationByName:function(t,e,n){var i=this.data.skeletonData.findAnimation(e);if(!i)throw"Animation not found: "+e;return this.setAnimation(t,i,n)},setAnimation:function(t,e,n){var r=new i.TrackEntry;return r.animation=e,r.loop=n,r.endTime=e.duration,this.setCurrent(t,r),r},addAnimationByName:function(t,e,n,i){var r=this.data.skeletonData.findAnimation(e);if(!r)throw"Animation not found: "+e;return this.addAnimation(t,r,n,i)},addAnimation:function(t,e,n,r){var a=new i.TrackEntry;a.animation=e,a.loop=n,a.endTime=e.duration;var o=this._expandToIndex(t);if(o){for(;o.next;)o=o.next;o.next=a}else this.tracks[t]=a;return 0>=r&&(o?r+=o.endTime-this.data.getMix(o.animation,e):r=0),a.delay=r,a},getCurrent:function(t){return t>=this.tracks.length?null:this.tracks[t]}},e.exports=i.AnimationState},{"../SpineUtil":51,"./TrackEntry":48}],13:[function(t,e,n){var i=t("../SpineUtil");i.AnimationStateData=function(t){this.skeletonData=t,this.animationToMixTime={}},i.AnimationStateData.prototype={defaultMix:0,setMixByName:function(t,e,n){var i=this.skeletonData.findAnimation(t);if(!i)throw"Animation not found: "+t;var r=this.skeletonData.findAnimation(e);if(!r)throw"Animation not found: "+e;this.setMix(i,r,n)},setMix:function(t,e,n){this.animationToMixTime[t.name+":"+e.name]=n},getMix:function(t,e){var n=t.name+":"+e.name;return this.animationToMixTime.hasOwnProperty(n)?this.animationToMixTime[n]:this.defaultMix}},e.exports=i.AnimationStateData},{"../SpineUtil":51}],14:[function(t,e,n){var i=t("../SpineUtil");i.AtlasReader=t("./AtlasReader"),i.AtlasPage=t("./AtlasPage"),i.AtlasRegion=t("./AtlasRegion");var r=t("pixi.js");i.Atlas=function(t,e,n){e&&e.indexOf("/")!==e.length&&(e+="/"),this.pages=[],this.regions=[],this.texturesLoading=0;var a=new i.AtlasReader(t),o=[];o.length=4;for(var s=null;;){var l=a.readLine();if(null===l)break;if(l=a.trim(l),l.length)if(s){var h=new i.AtlasRegion;h.name=l,h.page=s,h.rotate="true"==a.readValue(),a.readTuple(o);var u=parseInt(o[0]),c=parseInt(o[1]);a.readTuple(o);var f=parseInt(o[0]),p=parseInt(o[1]);h.u=u/s.width,h.v=c/s.height,h.rotate?(h.u2=(u+p)/s.width,h.v2=(c+f)/s.height):(h.u2=(u+f)/s.width,h.v2=(c+p)/s.height),h.x=u,h.y=c,h.width=Math.abs(f),h.height=Math.abs(p),4==a.readTuple(o)&&(h.splits=[parseInt(o[0]),parseInt(o[1]),parseInt(o[2]),parseInt(o[3])],4==a.readTuple(o)&&(h.pads=[parseInt(o[0]),parseInt(o[1]),parseInt(o[2]),parseInt(o[3])],a.readTuple(o))),h.originalWidth=parseInt(o[0]),h.originalHeight=parseInt(o[1]),a.readTuple(o),h.offsetX=parseInt(o[0]),h.offsetY=parseInt(o[1]),
h.index=parseInt(a.readValue()),this.regions.push(h)}else{s=new i.AtlasPage,s.name=l,2==a.readTuple(o)&&(s.width=parseInt(o[0]),s.height=parseInt(o[1]),a.readTuple(o)),s.format=i.Atlas.Format[o[0]],a.readTuple(o),s.minFilter=i.Atlas.TextureFilter[o[0]],s.magFilter=i.Atlas.TextureFilter[o[1]];var m=a.readValue();s.uWrap=i.Atlas.TextureWrap.clampToEdge,s.vWrap=i.Atlas.TextureWrap.clampToEdge,"x"==m?s.uWrap=i.Atlas.TextureWrap.repeat:"y"==m?s.vWrap=i.Atlas.TextureWrap.repeat:"xy"==m&&(s.uWrap=s.vWrap=i.Atlas.TextureWrap.repeat),s.rendererObject=r.BaseTexture.fromImage(e+l,n),this.pages.push(s)}else s=null}},i.Atlas.prototype={findRegion:function(t){for(var e=this.regions,n=0,i=e.length;i>n;n++)if(e[n].name==t)return e[n];return null},dispose:function(){for(var t=this.pages,e=0,n=t.length;n>e;e++)t[e].rendererObject.destroy(!0)},updateUVs:function(t){for(var e=this.regions,n=0,i=e.length;i>n;n++){var r=e[n];r.page==t&&(r.u=r.x/t.width,r.v=r.y/t.height,r.rotate?(r.u2=(r.x+r.height)/t.width,r.v2=(r.y+r.width)/t.height):(r.u2=(r.x+r.width)/t.width,r.v2=(r.y+r.height)/t.height))}}},i.Atlas.Format={alpha:0,intensity:1,luminanceAlpha:2,rgb565:3,rgba4444:4,rgb888:5,rgba8888:6},i.Atlas.TextureFilter={nearest:0,linear:1,mipMap:2,mipMapNearestNearest:3,mipMapLinearNearest:4,mipMapNearestLinear:5,mipMapLinearLinear:6},i.Atlas.TextureWrap={mirroredRepeat:0,clampToEdge:1,repeat:2},e.exports=i.Atlas},{"../SpineUtil":51,"./AtlasPage":16,"./AtlasReader":17,"./AtlasRegion":18,"pixi.js":"pixi.js"}],15:[function(t,e,n){var i=t("../SpineUtil");i.RegionAttachment=t("./RegionAttachment"),i.MeshAttachment=t("./MeshAttachment"),i.SkinnedMeshAttachment=t("./SkinnedMeshAttachment"),i.BoundingBoxAttachment=t("./BoundingBoxAttachment"),i.AtlasAttachmentParser=function(t){this.atlas=t},i.AtlasAttachmentParser.prototype={newRegionAttachment:function(t,e,n){var r=this.atlas.findRegion(n);if(!r)throw"Region not found in atlas: "+n+" (region attachment: "+e+")";var a=new i.RegionAttachment(e);return a.rendererObject=r,a.setUVs(r.u,r.v,r.u2,r.v2,r.rotate),a.regionOffsetX=r.offsetX,a.regionOffsetY=r.offsetY,a.regionWidth=r.width,a.regionHeight=r.height,a.regionOriginalWidth=r.originalWidth,a.regionOriginalHeight=r.originalHeight,a},newMeshAttachment:function(t,e,n){var r=this.atlas.findRegion(n);if(!r)throw"Region not found in atlas: "+n+" (mesh attachment: "+e+")";var a=new i.MeshAttachment(e);return a.rendererObject=r,a.regionU=r.u,a.regionV=r.v,a.regionU2=r.u2,a.regionV2=r.v2,a.regionRotate=r.rotate,a.regionOffsetX=r.offsetX,a.regionOffsetY=r.offsetY,a.regionWidth=r.width,a.regionHeight=r.height,a.regionOriginalWidth=r.originalWidth,a.regionOriginalHeight=r.originalHeight,a},newSkinnedMeshAttachment:function(t,e,n){var r=this.atlas.findRegion(n);if(!r)throw"Region not found in atlas: "+n+" (skinned mesh attachment: "+e+")";var a=new i.SkinnedMeshAttachment(e);return a.rendererObject=r,a.regionU=r.u,a.regionV=r.v,a.regionU2=r.u2,a.regionV2=r.v2,a.regionRotate=r.rotate,a.regionOffsetX=r.offsetX,a.regionOffsetY=r.offsetY,a.regionWidth=r.width,a.regionHeight=r.height,a.regionOriginalWidth=r.originalWidth,a.regionOriginalHeight=r.originalHeight,a},newBoundingBoxAttachment:function(t,e){return new i.BoundingBoxAttachment(e)}},e.exports=i.AtlasAttachmentParser},{"../SpineUtil":51,"./BoundingBoxAttachment":23,"./MeshAttachment":36,"./RegionAttachment":37,"./SkinnedMeshAttachment":45}],16:[function(t,e,n){var i=t("../SpineUtil");i.AtlasPage=function(){},i.AtlasPage.prototype={name:null,format:null,minFilter:null,magFilter:null,uWrap:null,vWrap:null,rendererObject:null,width:0,height:0},e.exports=i.AtlasPage},{"../SpineUtil":51}],17:[function(t,e,n){var i=t("../SpineUtil");i.AtlasReader=function(t){this.lines=t.split(/\r\n|\r|\n/)},i.AtlasReader.prototype={index:0,trim:function(t){return t.replace(/^\s+|\s+$/g,"")},readLine:function(){return this.index>=this.lines.length?null:this.lines[this.index++]},readValue:function(){var t=this.readLine(),e=t.indexOf(":");if(-1==e)throw"Invalid line: "+t;return this.trim(t.substring(e+1))},readTuple:function(t){var e=this.readLine(),n=e.indexOf(":");if(-1==n)throw"Invalid line: "+e;for(var i=0,r=n+1;3>i;i++){var a=e.indexOf(",",r);if(-1==a)break;t[i]=this.trim(e.substr(r,a-r)),r=a+1}return t[i]=this.trim(e.substring(r)),i+1}},e.exports=i.AtlasReader},{"../SpineUtil":51}],18:[function(t,e,n){var i=t("../SpineUtil");i.AtlasRegion=function(){},i.AtlasRegion.prototype={page:null,name:null,x:0,y:0,width:0,height:0,u:0,v:0,u2:0,v2:0,offsetX:0,offsetY:0,originalWidth:0,originalHeight:0,index:0,rotate:!1,splits:null,pads:null},e.exports=i.AtlasRegion},{"../SpineUtil":51}],19:[function(t,e,n){var i=t("../SpineUtil");i.Curves=t("./Curves"),i.Animation=t("./Animation"),i.AttachmentTimeline=function(t){this.curves=new i.Curves(t),this.frames=[],this.frames.length=t,this.attachmentNames=[],this.attachmentNames.length=t},i.AttachmentTimeline.prototype={slotIndex:0,getFrameCount:function(){return this.frames.length},setFrame:function(t,e,n){this.frames[t]=e,this.attachmentNames[t]=n},apply:function(t,e,n,r,a){var o=this.frames;if(n<o[0])return void(e>n&&this.apply(t,e,Number.MAX_VALUE,null,0));e>n&&(e=-1);var s=n>=o[o.length-1]?o.length-1:i.Animation.binarySearch1(o,n)-1;if(!(o[s]<e)){var l=this.attachmentNames[s];t.slots[this.slotIndex].setAttachment(l?t.getAttachmentBySlotIndex(this.slotIndex,l):null)}}},e.exports=i.AttachmentTimeline},{"../SpineUtil":51,"./Animation":11,"./Curves":25}],20:[function(t,e,n){var i=t("../SpineUtil");i.AttachmentType={region:0,boundingbox:1,mesh:2,skinnedmesh:3},e.exports=i.AttachmentType},{"../SpineUtil":51}],21:[function(t,e,n){var i=t("../SpineUtil");i.Bone=function(t,e,n){this.data=t,this.skeleton=e,this.parent=n,this.setToSetupPose()},i.Bone.yDown=!1,i.Bone.prototype={x:0,y:0,rotation:0,rotationIK:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,m00:0,m01:0,worldX:0,m10:0,m11:0,worldY:0,worldRotation:0,worldScaleX:1,worldScaleY:1,worldFlipX:!1,worldFlipY:!1,updateWorldTransform:function(){var t=this.parent;if(t)this.worldX=this.x*t.m00+this.y*t.m01+t.worldX,this.worldY=this.x*t.m10+this.y*t.m11+t.worldY,this.data.inheritScale?(this.worldScaleX=t.worldScaleX*this.scaleX,this.worldScaleY=t.worldScaleY*this.scaleY):(this.worldScaleX=this.scaleX,this.worldScaleY=this.scaleY),this.worldRotation=this.data.inheritRotation?t.worldRotation+this.rotationIK:this.rotationIK,this.worldFlipX=t.worldFlipX!=this.flipX,this.worldFlipY=t.worldFlipY!=this.flipY;else{var e=this.skeleton.flipX,n=this.skeleton.flipY;this.worldX=e?-this.x:this.x,this.worldY=n!=i.Bone.yDown?-this.y:this.y,this.worldScaleX=this.scaleX,this.worldScaleY=this.scaleY,this.worldRotation=this.rotationIK,this.worldFlipX=e!=this.flipX,this.worldFlipY=n!=this.flipY}var r=this.worldRotation*i.degRad,a=Math.cos(r),o=Math.sin(r);this.worldFlipX?(this.m00=-a*this.worldScaleX,this.m01=o*this.worldScaleY):(this.m00=a*this.worldScaleX,this.m01=-o*this.worldScaleY),this.worldFlipY!=i.Bone.yDown?(this.m10=-o*this.worldScaleX,this.m11=-a*this.worldScaleY):(this.m10=o*this.worldScaleX,this.m11=a*this.worldScaleY)},setToSetupPose:function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.rotationIK=this.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.flipX=t.flipX,this.flipY=t.flipY},worldToLocal:function(t){var e=t[0]-this.worldX,n=t[1]-this.worldY,r=this.m00,a=this.m10,o=this.m01,s=this.m11;this.worldFlipX!=(this.worldFlipY!=i.Bone.yDown)&&(r=-r,s=-s);var l=1/(r*s-o*a);t[0]=e*r*l-n*o*l,t[1]=n*s*l-e*a*l},localToWorld:function(t){var e=t[0],n=t[1];t[0]=e*this.m00+n*this.m01+this.worldX,t[1]=e*this.m10+n*this.m11+this.worldY}},e.exports=i.Bone},{"../SpineUtil":51}],22:[function(t,e,n){var i=t("../SpineUtil");i.BoneData=function(t,e){this.name=t,this.parent=e},i.BoneData.prototype={length:0,x:0,y:0,rotation:0,scaleX:1,scaleY:1,inheritScale:!0,inheritRotation:!0,flipX:!1,flipY:!1},e.exports=i.BoneData},{"../SpineUtil":51}],23:[function(t,e,n){var i=t("../SpineUtil");i.AttachmentType=t("./AttachmentType"),i.BoundingBoxAttachment=function(t){this.name=t,this.vertices=[]},i.BoundingBoxAttachment.prototype={type:i.AttachmentType.boundingbox,computeWorldVertices:function(t,e,n,i){t+=n.worldX,e+=n.worldY;for(var r=n.m00,a=n.m01,o=n.m10,s=n.m11,l=this.vertices,h=0,u=l.length;u>h;h+=2){var c=l[h],f=l[h+1];i[h]=c*r+f*a+t,i[h+1]=c*o+f*s+e}}},e.exports=i.BoundingBoxAttachment},{"../SpineUtil":51,"./AttachmentType":20}],24:[function(t,e,n){var i=t("../SpineUtil");i.Animation=t("./Animation"),i.Curves=t("./Curves"),i.ColorTimeline=function(t){this.curves=new i.Curves(t),this.frames=[],this.frames.length=5*t},i.ColorTimeline.prototype={slotIndex:0,getFrameCount:function(){return this.frames.length/5},setFrame:function(t,e,n,i,r,a){t*=5,this.frames[t]=e,this.frames[t+1]=n,this.frames[t+2]=i,this.frames[t+3]=r,this.frames[t+4]=a},apply:function(t,e,n,r,a){var o=this.frames;if(!(n<o[0])){var s,l,h,u;if(n>=o[o.length-5]){var c=o.length-1;s=o[c-3],l=o[c-2],h=o[c-1],u=o[c]}else{var f=i.Animation.binarySearch(o,n,5),p=o[f-4],m=o[f-3],d=o[f-2],v=o[f-1],g=o[f],y=1-(n-g)/(o[f-5]-g);y=this.curves.getCurvePercent(f/5-1,y),s=p+(o[f+1]-p)*y,l=m+(o[f+2]-m)*y,h=d+(o[f+3]-d)*y,u=v+(o[f+4]-v)*y}var x=t.slots[this.slotIndex];1>a?(x.r+=(s-x.r)*a,x.g+=(l-x.g)*a,x.b+=(h-x.b)*a,x.a+=(u-x.a)*a):(x.r=s,x.g=l,x.b=h,x.a=u)}}},e.exports=i.ColorTimeline},{"../SpineUtil":51,"./Animation":11,"./Curves":25}],25:[function(t,e,n){var i=t("../SpineUtil");i.Curves=function(t){this.curves=[]},i.Curves.prototype={setLinear:function(t){this.curves[19*t]=0},setStepped:function(t){this.curves[19*t]=1},setCurve:function(t,e,n,i,r){var a=.1,o=a*a,s=o*a,l=3*a,h=3*o,u=6*o,c=6*s,f=2*-e+i,p=2*-n+r,m=3*(e-i)+1,d=3*(n-r)+1,v=e*l+f*h+m*s,g=n*l+p*h+d*s,y=f*u+m*c,x=p*u+d*c,S=m*c,A=d*c,T=19*t,w=this.curves;w[T++]=2;for(var b=v,k=g,E=T+19-1;E>T;T+=2)w[T]=b,w[T+1]=k,v+=y,g+=x,y+=S,x+=A,b+=v,k+=g},getCurvePercent:function(t,e){e=0>e?0:e>1?1:e;var n=this.curves,i=19*t,r=n[i];if(0===r)return e;if(1==r)return 0;i++;for(var a=0,o=i,s=i+19-1;s>i;i+=2)if(a=n[i],a>=e){var l,h;return i==o?(l=0,h=0):(l=n[i-2],h=n[i-1]),h+(n[i+1]-h)*(e-l)/(a-l)}var u=n[i-1];return u+(1-u)*(e-a)/(1-a)}},e.exports=i.Curves},{"../SpineUtil":51}],26:[function(t,e,n){var i=t("../SpineUtil");i.Animation=t("./Animation"),i.DrawOrderTimeline=function(t){this.frames=[],this.frames.length=t,this.drawOrders=[],this.drawOrders.length=t},i.DrawOrderTimeline.prototype={getFrameCount:function(){return this.frames.length},setFrame:function(t,e,n){this.frames[t]=e,this.drawOrders[t]=n},apply:function(t,e,n,r,a){var o=this.frames;if(!(n<o[0])){var s;s=n>=o[o.length-1]?o.length-1:i.Animation.binarySearch1(o,n)-1;var l=t.drawOrder,h=(t.slots,this.drawOrders[s]);if(h)for(var u=0,c=h.length;c>u;u++)l[u]=h[u]}}},e.exports=i.DrawOrderTimeline},{"../SpineUtil":51,"./Animation":11}],27:[function(t,e,n){var i=t("../SpineUtil");i.Event=function(t){this.data=t},i.Event.prototype={intValue:0,floatValue:0,stringValue:null},e.exports=i.Event},{"../SpineUtil":51}],28:[function(t,e,n){var i=t("../SpineUtil");i.EventData=function(t){this.name=t},i.EventData.prototype={intValue:0,floatValue:0,stringValue:null},e.exports=i.EventData},{"../SpineUtil":51}],29:[function(t,e,n){var i=t("../SpineUtil");i.Animation=t("./Animation"),i.EventTimeline=function(t){this.frames=[],this.frames.length=t,this.events=[],this.events.length=t},i.EventTimeline.prototype={getFrameCount:function(){return this.frames.length},setFrame:function(t,e,n){this.frames[t]=e,this.events[t]=n},apply:function(t,e,n,r,a){if(r){var o=this.frames,s=o.length;if(e>n)this.apply(t,e,Number.MAX_VALUE,r,a),e=-1;else if(e>=o[s-1])return;if(!(n<o[0])){var l;if(e<o[0])l=0;else{l=i.Animation.binarySearch1(o,e);for(var h=o[l];l>0&&o[l-1]==h;)l--}for(var u=this.events;s>l&&n>=o[l];l++)r.push(u[l])}}}},e.exports=i.EventTimeline},{"../SpineUtil":51,"./Animation":11}],30:[function(t,e,n){var i=t("../SpineUtil");i.Animation=t("./Animation"),i.Curves=t("./Curves"),i.FfdTimeline=function(t){this.curves=new i.Curves(t),this.frames=[],this.frames.length=t,this.frameVertices=[],this.frameVertices.length=t},i.FfdTimeline.prototype={slotIndex:0,attachment:0,getFrameCount:function(){return this.frames.length},setFrame:function(t,e,n){this.frames[t]=e,this.frameVertices[t]=n},apply:function(t,e,n,r,a){var o=t.slots[this.slotIndex];if(o.attachment==this.attachment){var s=this.frames;if(!(n<s[0])){var l=this.frameVertices,h=l[0].length,u=o.attachmentVertices;if(u.length!=h&&(a=1),u.length=h,n>=s[s.length-1]){var c=l[s.length-1];if(1>a)for(var f=0;h>f;f++)u[f]+=(c[f]-u[f])*a;else for(var f=0;h>f;f++)u[f]=c[f]}else{var p=i.Animation.binarySearch1(s,n),m=s[p],d=1-(n-m)/(s[p-1]-m);d=this.curves.getCurvePercent(p-1,0>d?0:d>1?1:d);var v=l[p-1],g=l[p];if(1>a)for(var f=0;h>f;f++){var y=v[f];u[f]+=(y+(g[f]-y)*d-u[f])*a}else for(var f=0;h>f;f++){var y=v[f];u[f]=y+(g[f]-y)*d}}}}}},e.exports=i.FfdTimeline},{"../SpineUtil":51,"./Animation":11,"./Curves":25}],31:[function(t,e,n){var i=t("../SpineUtil");i.Animation=t("./Animation"),i.Curves=t("./Curves"),i.FlipXTimeline=function(t){this.curves=new i.Curves(t),this.frames=[],this.frames.length=2*t},i.FlipXTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/2},setFrame:function(t,e,n){t*=2,this.frames[t]=e,this.frames[t+1]=n?1:0},apply:function(t,e,n,r,a){var o=this.frames;if(n<o[0])return void(e>n&&this.apply(t,e,Number.MAX_VALUE,null,0));e>n&&(e=-1);var s=(n>=o[o.length-2]?o.length:i.Animation.binarySearch(o,n,2))-2;o[s]<e||(t.bones[this.boneIndex].flipX=0!=o[s+1])}},e.exports=i.FlipXTimeline},{"../SpineUtil":51,"./Animation":11,"./Curves":25}],32:[function(t,e,n){var i=t("../SpineUtil");i.Animation=t("./Animation"),i.Curves=t("./Curves"),i.FlipYTimeline=function(t){this.curves=new i.Curves(t),this.frames=[],this.frames.length=2*t},i.FlipYTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/2},setFrame:function(t,e,n){t*=2,this.frames[t]=e,this.frames[t+1]=n?1:0},apply:function(t,e,n,r,a){var o=this.frames;if(n<o[0])return void(e>n&&this.apply(t,e,Number.MAX_VALUE,null,0));e>n&&(e=-1);var s=(n>=o[o.length-2]?o.length:i.Animation.binarySearch(o,n,2))-2;o[s]<e||(t.bones[this.boneIndex].flipY=0!=o[s+1])}},e.exports=i.FlipYTimeline},{"../SpineUtil":51,"./Animation":11,"./Curves":25}],33:[function(t,e,n){var i=t("../SpineUtil");i.IkConstraint=function(t,e){this.data=t,this.mix=t.mix,this.bendDirection=t.bendDirection,this.bones=[];for(var n=0,i=t.bones.length;i>n;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findBone(t.target.name)},i.IkConstraint.prototype={apply:function(){var t=this.target,e=this.bones;switch(e.length){case 1:i.IkConstraint.apply1(e[0],t.worldX,t.worldY,this.mix);break;case 2:i.IkConstraint.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.mix)}}},i.IkConstraint.apply1=function(t,e,n,r){var a=t.data.inheritRotation&&t.parent?t.parent.worldRotation:0,o=t.rotation,s=Math.atan2(n-t.worldY,e-t.worldX)*i.radDeg-a;t.rotationIK=o+(s-o)*r},i.IkConstraint.apply2=function(t,e,n,r,a,o){var s=e.rotation,l=t.rotation;if(!o)return e.rotationIK=s,void(t.rotationIK=l);var h,u,c=i.temp,f=t.parent;f?(c[0]=n,c[1]=r,f.worldToLocal(c),n=(c[0]-t.x)*f.worldScaleX,r=(c[1]-t.y)*f.worldScaleY):(n-=t.x,r-=t.y),e.parent==t?(h=e.x,u=e.y):(c[0]=e.x,c[1]=e.y,e.parent.localToWorld(c),t.worldToLocal(c),h=c[0],u=c[1]);var p=h*t.worldScaleX,m=u*t.worldScaleY,d=Math.atan2(m,p),v=Math.sqrt(p*p+m*m),g=e.data.length*e.worldScaleX,y=2*v*g;if(1e-4>y)return void(e.rotationIK=s+(Math.atan2(r,n)*i.radDeg-l-s)*o);var x=(n*n+r*r-v*v-g*g)/y;-1>x?x=-1:x>1&&(x=1);var S=Math.acos(x)*a,A=v+g*x,T=g*Math.sin(S),w=Math.atan2(r*A-n*T,n*A+r*T),b=(w-d)*i.radDeg-l;b>180?b-=360:-180>b&&(b+=360),t.rotationIK=l+b*o,b=(S+d)*i.radDeg-s,b>180?b-=360:-180>b&&(b+=360),e.rotationIK=s+(b+t.worldRotation-e.parent.worldRotation)*o},e.exports=i.IkConstraint},{"../SpineUtil":51}],34:[function(t,e,n){var i=t("../SpineUtil")||{};i.IkConstraintData=function(t){this.name=t,this.bones=[]},i.IkConstraintData.prototype={target:null,bendDirection:1,mix:1},e.exports=i.IkConstraintData},{"../SpineUtil":51}],35:[function(t,e,n){var i=t("../SpineUtil")||{};i.Animation=t("./Animation"),i.Curves=t("./Curves"),i.IkConstraintTimeline=function(t){this.curves=new i.Curves(t),this.frames=[],this.frames.length=3*t},i.IkConstraintTimeline.prototype={ikConstraintIndex:0,getFrameCount:function(){return this.frames.length/3},setFrame:function(t,e,n,i){t*=3,this.frames[t]=e,this.frames[t+1]=n,this.frames[t+2]=i},apply:function(t,e,n,r,a){var o=this.frames;if(!(n<o[0])){var s=t.ikConstraints[this.ikConstraintIndex];if(n>=o[o.length-3])return s.mix+=(o[o.length-2]-s.mix)*a,void(s.bendDirection=o[o.length-1]);var l=i.Animation.binarySearch(o,n,3),h=o[l+-2],u=o[l],c=1-(n-u)/(o[l+-3]-u);c=this.curves.getCurvePercent(l/3-1,c);var f=h+(o[l+1]-h)*c;s.mix+=(f-s.mix)*a,s.bendDirection=o[l+-1]}}},e.exports=i.IkConstraintTimeline},{"../SpineUtil":51,"./Animation":11,"./Curves":25}],36:[function(t,e,n){var i=t("../SpineUtil")||{};i.AttachmentType=t("./AttachmentType"),i.MeshAttachment=function(t){this.name=t},i.MeshAttachment.prototype={type:i.AttachmentType.mesh,vertices:null,uvs:null,regionUVs:null,triangles:null,hullLength:0,r:1,g:1,b:1,a:1,path:null,rendererObject:null,regionU:0,regionV:0,regionU2:0,regionV2:0,regionRotate:!1,regionOffsetX:0,regionOffsetY:0,regionWidth:0,regionHeight:0,regionOriginalWidth:0,regionOriginalHeight:0,edges:null,width:0,height:0,updateUVs:function(){var t=this.regionU2-this.regionU,e=this.regionV2-this.regionV,n=this.regionUVs.length;if(this.uvs&&this.uvs.length==n||(this.uvs=new i.Float32Array(n)),this.regionRotate)for(var r=0;n>r;r+=2)this.uvs[r]=this.regionU+this.regionUVs[r+1]*t,this.uvs[r+1]=this.regionV+e-this.regionUVs[r]*e;else for(var r=0;n>r;r+=2)this.uvs[r]=this.regionU+this.regionUVs[r]*t,this.uvs[r+1]=this.regionV+this.regionUVs[r+1]*e},computeWorldVertices:function(t,e,n,i){var r=n.bone;t+=r.worldX,e+=r.worldY;var a=r.m00,o=r.m01,s=r.m10,l=r.m11,h=this.vertices,u=h.length;n.attachmentVertices.length==u&&(h=n.attachmentVertices);for(var c=0;u>c;c+=2){var f=h[c],p=h[c+1];i[c]=f*a+p*o+t,i[c+1]=f*s+p*l+e}}},e.exports=i.MeshAttachment},{"../SpineUtil":51,"./AttachmentType":20}],37:[function(t,e,n){var i=t("../SpineUtil");i.AttachmentType=t("./AttachmentType"),i.RegionAttachment=function(t){this.name=t,this.offset=[],this.offset.length=8,this.uvs=[],this.uvs.length=8},i.RegionAttachment.prototype={type:i.AttachmentType.region,x:0,y:0,rotation:0,scaleX:1,scaleY:1,width:0,height:0,r:1,g:1,b:1,a:1,path:null,rendererObject:null,regionOffsetX:0,regionOffsetY:0,regionWidth:0,regionHeight:0,regionOriginalWidth:0,regionOriginalHeight:0,setUVs:function(t,e,n,i,r){var a=this.uvs;r?(a[2]=t,a[3]=i,a[4]=t,a[5]=e,a[6]=n,a[7]=e,a[0]=n,a[1]=i):(a[0]=t,a[1]=i,a[2]=t,a[3]=e,a[4]=n,a[5]=e,a[6]=n,a[7]=i)},updateOffset:function(){var t=this.width/this.regionOriginalWidth*this.scaleX,e=this.height/this.regionOriginalHeight*this.scaleY,n=-this.width/2*this.scaleX+this.regionOffsetX*t,r=-this.height/2*this.scaleY+this.regionOffsetY*e,a=n+this.regionWidth*t,o=r+this.regionHeight*e,s=this.rotation*i.degRad,l=Math.cos(s),h=Math.sin(s),u=n*l+this.x,c=n*h,f=r*l+this.y,p=r*h,m=a*l+this.x,d=a*h,v=o*l+this.y,g=o*h,y=this.offset;y[0]=u-p,y[1]=f+c,y[2]=u-g,y[3]=v+c,y[4]=m-g,y[5]=v+d,y[6]=m-p,y[7]=f+d},computeVertices:function(t,e,n,i){t+=n.worldX,e+=n.worldY;var r=n.m00,a=n.m01,o=n.m10,s=n.m11,l=this.offset;i[0]=l[0]*r+l[1]*a+t,i[1]=l[0]*o+l[1]*s+e,i[2]=l[2]*r+l[3]*a+t,i[3]=l[2]*o+l[3]*s+e,i[4]=l[4]*r+l[5]*a+t,i[5]=l[4]*o+l[5]*s+e,i[6]=l[6]*r+l[7]*a+t,i[7]=l[6]*o+l[7]*s+e}},e.exports=i.RegionAttachment},{"../SpineUtil":51,"./AttachmentType":20}],38:[function(t,e,n){var i=t("../SpineUtil")||{};i.Animation=t("./Animation"),i.Curves=t("./Curves"),i.RotateTimeline=function(t){this.curves=new i.Curves(t),this.frames=[],this.frames.length=2*t},i.RotateTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/2},setFrame:function(t,e,n){t*=2,this.frames[t]=e,this.frames[t+1]=n},apply:function(t,e,n,r,a){var o=this.frames;if(!(n<o[0])){var s=t.bones[this.boneIndex];if(n>=o[o.length-2]){for(var l=s.data.rotation+o[o.length-1]-s.rotation;l>180;)l-=360;for(;-180>l;)l+=360;return void(s.rotation+=l*a)}var h=i.Animation.binarySearch(o,n,2),u=o[h-1],c=o[h],f=1-(n-c)/(o[h-2]-c);f=this.curves.getCurvePercent(h/2-1,f);for(var l=o[h+1]-u;l>180;)l-=360;for(;-180>l;)l+=360;for(l=s.data.rotation+(u+l*f)-s.rotation;l>180;)l-=360;for(;-180>l;)l+=360;s.rotation+=l*a}}},e.exports=i.RotateTimeline},{"../SpineUtil":51,"./Animation":11,"./Curves":25}],39:[function(t,e,n){var i=t("../SpineUtil");i.Animation=t("./Animation"),i.Curves=t("./Curves"),i.ScaleTimeline=function(t){this.curves=new i.Curves(t),this.frames=[],this.frames.length=3*t},i.ScaleTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/3},setFrame:function(t,e,n,i){t*=3,this.frames[t]=e,this.frames[t+1]=n,this.frames[t+2]=i},apply:function(t,e,n,r,a){var o=this.frames;if(!(n<o[0])){var s=t.bones[this.boneIndex];if(n>=o[o.length-3])return s.scaleX+=(s.data.scaleX*o[o.length-2]-s.scaleX)*a,void(s.scaleY+=(s.data.scaleY*o[o.length-1]-s.scaleY)*a);var l=i.Animation.binarySearch(o,n,3),h=o[l-2],u=o[l-1],c=o[l],f=1-(n-c)/(o[l+-3]-c);f=this.curves.getCurvePercent(l/3-1,f),s.scaleX+=(s.data.scaleX*(h+(o[l+1]-h)*f)-s.scaleX)*a,s.scaleY+=(s.data.scaleY*(u+(o[l+2]-u)*f)-s.scaleY)*a}}},e.exports=i.ScaleTimeline},{"../SpineUtil":51,"./Animation":11,"./Curves":25}],40:[function(t,e,n){var i=t("../SpineUtil");i.Bone=t("./Bone"),i.Slot=t("./Slot"),i.IkConstraint=t("./IkConstraint"),i.Skeleton=function(t){this.data=t,this.bones=[];for(var e=0,n=t.bones.length;n>e;e++){var r=t.bones[e],a=r.parent?this.bones[t.bones.indexOf(r.parent)]:null;this.bones.push(new i.Bone(r,this,a))}this.slots=[],this.drawOrder=[];for(var e=0,n=t.slots.length;n>e;e++){var o=t.slots[e],s=this.bones[t.bones.indexOf(o.boneData)],l=new i.Slot(o,s);this.slots.push(l),this.drawOrder.push(e)}this.ikConstraints=[];for(var e=0,n=t.ikConstraints.length;n>e;e++)this.ikConstraints.push(new i.IkConstraint(t.ikConstraints[e],this));this.boneCache=[],this.updateCache()},i.Skeleton.prototype={x:0,y:0,skin:null,r:1,g:1,b:1,a:1,time:0,flipX:!1,flipY:!1,updateCache:function(){var t=this.ikConstraints,e=t.length,n=e+1,i=this.boneCache;i.length>n&&(i.length=n);for(var r=0,a=i.length;a>r;r++)i[r].length=0;for(;i.length<n;)i[i.length]=[];var o=i[0],s=this.bones;t:for(var r=0,a=s.length;a>r;r++){var l=s[r],h=l;do{for(var u=0;e>u;u++)for(var c=t[u],f=c.bones[0],p=c.bones[c.bones.length-1];;){if(h==p){i[u].push(l),i[u+1].push(l);continue t}if(p==f)break;p=p.parent}h=h.parent}while(h);o[o.length]=l}},updateWorldTransform:function(){for(var t=this.bones,e=0,n=t.length;n>e;e++){var i=t[e];i.rotationIK=i.rotation}for(var e=0,r=this.boneCache.length-1;;){for(var a=this.boneCache[e],o=0,s=a.length;s>o;o++)a[o].updateWorldTransform();if(e==r)break;this.ikConstraints[e].apply(),e++}},setToSetupPose:function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},setBonesToSetupPose:function(){for(var t=this.bones,e=0,n=t.length;n>e;e++)t[e].setToSetupPose();for(var i=this.ikConstraints,e=0,n=i.length;n>e;e++){var r=i[e];r.bendDirection=r.data.bendDirection,r.mix=r.data.mix}},setSlotsToSetupPose:function(){for(var t=this.slots,e=0,n=t.length;n>e;e++)t[e].setToSetupPose(e);this.resetDrawOrder()},getRootBone:function(){return this.bones.length?this.bones[0]:null},findBone:function(t){for(var e=this.bones,n=0,i=e.length;i>n;n++)if(e[n].data.name==t)return e[n];return null},findBoneIndex:function(t){for(var e=this.bones,n=0,i=e.length;i>n;n++)if(e[n].data.name==t)return n;return-1},findSlot:function(t){for(var e=this.slots,n=0,i=e.length;i>n;n++)if(e[n].data.name==t)return e[n];return null},findSlotIndex:function(t){for(var e=this.slots,n=0,i=e.length;i>n;n++)if(e[n].data.name==t)return n;return-1},setSkinByName:function(t){var e=this.data.findSkin(t);if(!e)throw"Skin not found: "+t;this.setSkin(e)},setSkin:function(t){if(t)if(this.skin)t._attachAll(this,this.skin);else for(var e=this.slots,n=0,i=e.length;i>n;n++){var r=e[n],a=r.data.attachmentName;if(a){var o=t.getAttachment(n,a);o&&r.setAttachment(o)}}this.skin=t},getAttachmentBySlotName:function(t,e){return this.getAttachmentBySlotIndex(this.data.findSlotIndex(t),e)},getAttachmentBySlotIndex:function(t,e){if(this.skin){var n=this.skin.getAttachment(t,e);if(n)return n}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null},setAttachment:function(t,e){for(var n=this.slots,i=0,r=n.length;r>i;i++){var a=n[i];if(a.data.name==t){var o=null;if(e&&(o=this.getAttachmentBySlotIndex(i,e),!o))throw"Attachment not found: "+e+", for slot: "+t;return void a.setAttachment(o)}}throw"Slot not found: "+t},findIkConstraint:function(t){for(var e=this.ikConstraints,n=0,i=e.length;i>n;n++)if(e[n].data.name==t)return e[n];return null},update:function(t){this.time+=t},resetDrawOrder:function(){for(var t=0,e=this.drawOrder.length;e>t;t++)this.drawOrder[t]=t}},e.exports=i.Skeleton},{"../SpineUtil":51,"./Bone":21,"./IkConstraint":33,"./Slot":46}],41:[function(t,e,n){var i=t("../SpineRuntime")||{};i.AttachmentType=t("./AttachmentType"),i.SkeletonBounds=function(){this.polygonPool=[],this.polygons=[],this.boundingBoxes=[]},i.SkeletonBounds.prototype={minX:0,minY:0,maxX:0,maxY:0,update:function(t,e){var n=t.slots,r=n.length,a=t.x,o=t.y,s=this.boundingBoxes,l=this.polygonPool,h=this.polygons;s.length=0;for(var u=0,c=h.length;c>u;u++)l.push(h[u]);h.length=0;for(var u=0;r>u;u++){var f=n[u],p=f.attachment;if(p.type==i.AttachmentType.boundingbox){s.push(p);var m,d=l.length;d>0?(m=l[d-1],l.splice(d-1,1)):m=[],h.push(m),m.length=p.vertices.length,p.computeWorldVertices(a,o,f.bone,m)}}e&&this.aabbCompute()},aabbCompute:function(){for(var t=this.polygons,e=Number.MAX_VALUE,n=Number.MAX_VALUE,i=Number.MIN_VALUE,r=Number.MIN_VALUE,a=0,o=t.length;o>a;a++)for(var s=t[a],l=0,h=s.length;h>l;l+=2){var u=s[l],c=s[l+1];e=Math.min(e,u),n=Math.min(n,c),i=Math.max(i,u),r=Math.max(r,c)}this.minX=e,this.minY=n,this.maxX=i,this.maxY=r},aabbContainsPoint:function(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY},aabbIntersectsSegment:function(t,e,n,i){var r=this.minX,a=this.minY,o=this.maxX,s=this.maxY;if(r>=t&&r>=n||a>=e&&a>=i||t>=o&&n>=o||e>=s&&i>=s)return!1;var l=(i-e)/(n-t),h=l*(r-t)+e;if(h>a&&s>h)return!0;if(h=l*(o-t)+e,h>a&&s>h)return!0;var u=(a-e)/l+t;return u>r&&o>u?!0:(u=(s-e)/l+t,u>r&&o>u?!0:!1)},aabbIntersectsSkeleton:function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},containsPoint:function(t,e){for(var n=this.polygons,i=0,r=n.length;r>i;i++)if(this.polygonContainsPoint(n[i],t,e))return this.boundingBoxes[i];return null},intersectsSegment:function(t,e,n,i){for(var r=this.polygons,a=0,o=r.length;o>a;a++)if(r[a].intersectsSegment(t,e,n,i))return this.boundingBoxes[a];return null},polygonContainsPoint:function(t,e,n){for(var i=t.length,r=i-2,a=!1,o=0;i>o;o+=2){var s=t[o+1],l=t[r+1];if(n>s&&l>=n||n>l&&s>=n){var h=t[o];h+(n-s)/(l-s)*(t[r]-h)<e&&(a=!a)}r=o}return a},polygonIntersectsSegment:function(t,e,n,i,r){for(var a=t.length,o=e-i,s=n-r,l=e*r-n*i,h=t[a-2],u=t[a-1],c=0;a>c;c+=2){var f=t[c],p=t[c+1],m=h*p-u*f,d=h-f,v=u-p,g=o*v-s*d,y=(l*d-o*m)/g;if((y>=h&&f>=y||y>=f&&h>=y)&&(y>=e&&i>=y||y>=i&&e>=y)){var x=(l*v-s*m)/g;if((x>=u&&p>=x||x>=p&&u>=x)&&(x>=n&&r>=x||x>=r&&n>=x))return!0}h=f,u=p}return!1},getPolygon:function(t){var e=this.boundingBoxes.indexOf(t);return-1==e?null:this.polygons[e]},getWidth:function(){return this.maxX-this.minX},getHeight:function(){return this.maxY-this.minY}},e.exports=i.SkeletonBounds},{"../SpineRuntime":50,"./AttachmentType":20}],42:[function(t,e,n){var i=t("../SpineUtil");i.SkeletonData=function(){this.bones=[],this.slots=[],this.skins=[],this.events=[],this.animations=[],this.ikConstraints=[]},i.SkeletonData.prototype={name:null,defaultSkin:null,width:0,height:0,version:null,hash:null,findBone:function(t){for(var e=this.bones,n=0,i=e.length;i>n;n++)if(e[n].name==t)return e[n];return null},findBoneIndex:function(t){for(var e=this.bones,n=0,i=e.length;i>n;n++)if(e[n].name==t)return n;return-1},findSlot:function(t){for(var e=this.slots,n=0,i=e.length;i>n;n++)if(e[n].name==t)return slot[n];return null},findSlotIndex:function(t){for(var e=this.slots,n=0,i=e.length;i>n;n++)if(e[n].name==t)return n;return-1},findSkin:function(t){for(var e=this.skins,n=0,i=e.length;i>n;n++)if(e[n].name==t)return e[n];return null},findEvent:function(t){for(var e=this.events,n=0,i=e.length;i>n;n++)if(e[n].name==t)return e[n];return null},findAnimation:function(t){for(var e=this.animations,n=0,i=e.length;i>n;n++)if(e[n].name==t)return e[n];return null},findIkConstraint:function(t){for(var e=this.ikConstraints,n=0,i=e.length;i>n;n++)if(e[n].name==t)return e[n];return null}},e.exports=i.SkeletonData},{"../SpineUtil":51}],43:[function(t,e,n){var i=t("../SpineUtil");i.SkeletonData=t("./SkeletonData"),i.BoneData=t("./BoneData"),i.IkConstraintData=t("./IkConstraintData"),i.SlotData=t("./SlotData"),i.Skin=t("./Skin"),i.EventData=t("./EventData"),i.AttachmentType=t("./AttachmentType"),i.ColorTimeline=t("./ColorTimeline"),i.AttachmentTimeline=t("./AttachmentTimeline"),i.RotateTimeline=t("./RotateTimeline"),i.ScaleTimeline=t("./ScaleTimeline"),i.TranslateTimeline=t("./TranslateTimeline"),i.FlipXTimeline=t("./FlipXTimeline"),i.FlipYTimeline=t("./FlipYTimeline"),i.IkConstraintTimeline=t("./IkConstraintTimeline"),i.FfdTimeline=t("./FfdTimeline"),i.DrawOrderTimeline=t("./DrawOrderTimeline"),i.EventTimeline=t("./EventTimeline"),i.Event=t("./Event"),i.Animation=t("./Animation"),i.SkeletonJsonParser=function(t){this.attachmentLoader=t},i.SkeletonJsonParser.prototype={scale:1,readSkeletonData:function(t,e){var n=new i.SkeletonData;n.name=e;var r=t.skeleton;r&&(n.hash=r.hash,n.version=r.spine,n.width=r.width||0,n.height=r.height||0);for(var a=t.bones,o=0,s=a.length;s>o;o++){var l=a[o],h=null;if(l.parent&&(h=n.findBone(l.parent),!h))throw"Parent bone not found: "+l.parent;var u=new i.BoneData(l.name,h);u.length=(l.length||0)*this.scale,u.x=(l.x||0)*this.scale,u.y=(l.y||0)*this.scale,u.rotation=l.rotation||0,u.scaleX=l.hasOwnProperty("scaleX")?l.scaleX:1,u.scaleY=l.hasOwnProperty("scaleY")?l.scaleY:1,u.inheritScale=l.hasOwnProperty("inheritScale")?l.inheritScale:!0,u.inheritRotation=l.hasOwnProperty("inheritRotation")?l.inheritRotation:!0,n.bones.push(u)}var c=t.ik;if(c)for(var o=0,s=c.length;s>o;o++){for(var f=c[o],p=new i.IkConstraintData(f.name),a=f.bones,m=0,d=a.length;d>m;m++){var v=n.findBone(a[m]);if(!v)throw"IK bone not found: "+a[m];p.bones.push(v)}if(p.target=n.findBone(f.target),!p.target)throw"Target bone not found: "+f.target;p.bendDirection=!f.hasOwnProperty("bendPositive")||f.bendPositive?1:-1,p.mix=f.hasOwnProperty("mix")?f.mix:1,n.ikConstraints.push(p)}for(var g=t.slots,o=0,s=g.length;s>o;o++){var y=g[o],u=n.findBone(y.bone);if(!u)throw"Slot bone not found: "+y.bone;var x=new i.SlotData(y.name,u),S=y.color;S&&(x.r=this.toColor(S,0),x.g=this.toColor(S,1),x.b=this.toColor(S,2),x.a=this.toColor(S,3)),x.attachmentName=y.attachment,x.additiveBlending=y.additive&&"true"==y.additive,n.slots.push(x)}var A=t.skins;for(var T in A)if(A.hasOwnProperty(T)){var w=A[T],b=new i.Skin(T);for(var k in w)if(w.hasOwnProperty(k)){var E=n.findSlotIndex(k),O=w[k];for(var C in O)if(O.hasOwnProperty(C)){var _=this.readAttachment(b,C,O[C]);_&&b.addAttachment(E,C,_)}}n.skins.push(b),"default"==b.name&&(n.defaultSkin=b)}var R=t.events;for(var I in R)if(R.hasOwnProperty(I)){var X=R[I],U=new i.EventData(I);U.intValue=X["int"]||0,U.floatValue=X["float"]||0,U.stringValue=X.string||null,n.events.push(U)}var P=t.animations;for(var D in P)P.hasOwnProperty(D)&&this.readAnimation(D,P[D],n);return n},readAttachment:function(t,e,n){e=n.name||e;var r=i.AttachmentType[n.type||"region"],a=n.path||e,o=this.scale;if(r==i.AttachmentType.region){
var s=this.attachmentLoader.newRegionAttachment(t,e,a);if(!s)return null;s.path=a,s.x=(n.x||0)*o,s.y=(n.y||0)*o,s.scaleX=n.hasOwnProperty("scaleX")?n.scaleX:1,s.scaleY=n.hasOwnProperty("scaleY")?n.scaleY:1,s.rotation=n.rotation||0,s.width=(n.width||0)*o,s.height=(n.height||0)*o;var l=n.color;return l&&(s.r=this.toColor(l,0),s.g=this.toColor(l,1),s.b=this.toColor(l,2),s.a=this.toColor(l,3)),s.updateOffset(),s}if(r==i.AttachmentType.mesh){var h=this.attachmentLoader.newMeshAttachment(t,e,a);return h?(h.path=a,h.vertices=this.getFloatArray(n,"vertices",o),h.triangles=this.getIntArray(n,"triangles"),h.regionUVs=this.getFloatArray(n,"uvs",1),h.updateUVs(),l=n.color,l&&(h.r=this.toColor(l,0),h.g=this.toColor(l,1),h.b=this.toColor(l,2),h.a=this.toColor(l,3)),h.hullLength=2*(n.hull||0),n.edges&&(h.edges=this.getIntArray(n,"edges")),h.width=(n.width||0)*o,h.height=(n.height||0)*o,h):null}if(r==i.AttachmentType.skinnedmesh){var h=this.attachmentLoader.newSkinnedMeshAttachment(t,e,a);if(!h)return null;h.path=a;for(var u=this.getFloatArray(n,"uvs",1),c=this.getFloatArray(n,"vertices",1),f=[],p=[],m=0,d=c.length;d>m;){var v=0|c[m++];p[p.length]=v;for(var g=m+4*v;g>m;)p[p.length]=c[m],f[f.length]=c[m+1]*o,f[f.length]=c[m+2]*o,f[f.length]=c[m+3],m+=4}return h.bones=p,h.weights=f,h.triangles=this.getIntArray(n,"triangles"),h.regionUVs=u,h.updateUVs(),l=n.color,l&&(h.r=this.toColor(l,0),h.g=this.toColor(l,1),h.b=this.toColor(l,2),h.a=this.toColor(l,3)),h.hullLength=2*(n.hull||0),n.edges&&(h.edges=this.getIntArray(n,"edges")),h.width=(n.width||0)*o,h.height=(n.height||0)*o,h}if(r==i.AttachmentType.boundingbox){for(var y=this.attachmentLoader.newBoundingBoxAttachment(t,e),c=n.vertices,m=0,d=c.length;d>m;m++)y.vertices.push(c[m]*o);return y}throw"Unknown attachment type: "+r},readAnimation:function(t,e,n){var r=[],a=0,o=e.slots;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s],h=n.findSlotIndex(s);for(var u in l)if(l.hasOwnProperty(u)){var c=l[u];if("color"==u){var f=new i.ColorTimeline(c.length);f.slotIndex=h;for(var p=0,m=0,d=c.length;d>m;m++){var v=c[m],g=v.color,y=this.toColor(g,0),x=this.toColor(g,1),S=this.toColor(g,2),A=this.toColor(g,3);f.setFrame(p,v.time,y,x,S,A),this.readCurve(f,p,v),p++}r.push(f),a=Math.max(a,f.frames[5*f.getFrameCount()-5])}else{if("attachment"!=u)throw"Invalid timeline type for a slot: "+u+" ("+s+")";var f=new i.AttachmentTimeline(c.length);f.slotIndex=h;for(var p=0,m=0,d=c.length;d>m;m++){var v=c[m];f.setFrame(p++,v.time,v.name)}r.push(f),a=Math.max(a,f.frames[f.getFrameCount()-1])}}}var T=e.bones;for(var w in T)if(T.hasOwnProperty(w)){var b=n.findBoneIndex(w);if(-1==b)throw"Bone not found: "+w;var k=T[w];for(var u in k)if(k.hasOwnProperty(u)){var c=k[u];if("rotate"==u){var f=new i.RotateTimeline(c.length);f.boneIndex=b;for(var p=0,m=0,d=c.length;d>m;m++){var v=c[m];f.setFrame(p,v.time,v.angle),this.readCurve(f,p,v),p++}r.push(f),a=Math.max(a,f.frames[2*f.getFrameCount()-2])}else if("translate"==u||"scale"==u){var f,E=1;"scale"==u?f=new i.ScaleTimeline(c.length):(f=new i.TranslateTimeline(c.length),E=this.scale),f.boneIndex=b;for(var p=0,m=0,d=c.length;d>m;m++){var v=c[m],O=(v.x||0)*E,C=(v.y||0)*E;f.setFrame(p,v.time,O,C),this.readCurve(f,p,v),p++}r.push(f),a=Math.max(a,f.frames[3*f.getFrameCount()-3])}else{if("flipX"!=u&&"flipY"!=u)throw"Invalid timeline type for a bone: "+u+" ("+w+")";var O="flipX"==u,f=O?new i.FlipXTimeline(c.length):new i.FlipYTimeline(c.length);f.boneIndex=b;for(var _=O?"x":"y",p=0,m=0,d=c.length;d>m;m++){var v=c[m];f.setFrame(p,v.time,v[_]||!1),p++}r.push(f),a=Math.max(a,f.frames[2*f.getFrameCount()-2])}}}var R=e.ik;for(var I in R)if(R.hasOwnProperty(I)){var X=n.findIkConstraint(I),c=R[I],f=new i.IkConstraintTimeline(c.length);f.ikConstraintIndex=n.ikConstraints.indexOf(X);for(var p=0,m=0,d=c.length;d>m;m++){var v=c[m],U=v.hasOwnProperty("mix")?v.mix:1,P=!v.hasOwnProperty("bendPositive")||v.bendPositive?1:-1;f.setFrame(p,v.time,U,P),this.readCurve(f,p,v),p++}r.push(f),a=Math.max(a,f.frames[3*f.frameCount-3])}var D=e.ffd;for(var Y in D){var M=n.findSkin(Y),l=D[Y];for(s in l){var h=n.findSlotIndex(s),L=l[s];for(var F in L){var c=L[F],f=new i.FfdTimeline(c.length),B=M.getAttachment(h,F);if(!B)throw"FFD attachment not found: "+F;f.slotIndex=h,f.attachment=B;var V,N=B.type==i.AttachmentType.mesh;V=N?B.vertices.length:B.weights.length/3*2;for(var p=0,m=0,d=c.length;d>m;m++){var j,v=c[m];if(v.vertices){var H=v.vertices,j=[];j.length=V;var W=v.offset||0,q=H.length;if(1==this.scale)for(var J=0;q>J;J++)j[J+W]=H[J];else for(var J=0;q>J;J++)j[J+W]=H[J]*this.scale;if(N)for(var K=B.vertices,J=0,q=j.length;q>J;J++)j[J]+=K[J]}else N?j=B.vertices:(j=[],j.length=V);f.setFrame(p,v.time,j),this.readCurve(f,p,v),p++}r[r.length]=f,a=Math.max(a,f.frames[f.frameCount-1])}}}var G=e.drawOrder;if(G||(G=e.draworder),G){for(var f=new i.DrawOrderTimeline(G.length),z=n.slots.length,p=0,m=0,d=G.length;d>m;m++){var Q=G[m],Z=null;if(Q.offsets){Z=[],Z.length=z;for(var J=z-1;J>=0;J--)Z[J]=-1;var $=Q.offsets,tt=[];tt.length=z-$.length;for(var et=0,nt=0,J=0,q=$.length;q>J;J++){var it=$[J],h=n.findSlotIndex(it.slot);if(-1==h)throw"Slot not found: "+it.slot;for(;et!=h;)tt[nt++]=et++;Z[et+it.offset]=et++}for(;z>et;)tt[nt++]=et++;for(var J=z-1;J>=0;J--)-1==Z[J]&&(Z[J]=tt[--nt])}f.setFrame(p++,Q.time,Z)}r.push(f),a=Math.max(a,f.frames[f.getFrameCount()-1])}var rt=e.events;if(rt){for(var f=new i.EventTimeline(rt.length),p=0,m=0,d=rt.length;d>m;m++){var at=rt[m],ot=n.findEvent(at.name);if(!ot)throw"Event not found: "+at.name;var st=new i.Event(ot);st.intValue=at.hasOwnProperty("int")?at["int"]:ot.intValue,st.floatValue=at.hasOwnProperty("float")?at["float"]:ot.floatValue,st.stringValue=at.hasOwnProperty("string")?at.string:ot.stringValue,f.setFrame(p++,at.time,st)}r.push(f),a=Math.max(a,f.frames[f.getFrameCount()-1])}n.animations.push(new i.Animation(t,r,a))},readCurve:function(t,e,n){var i=n.curve;i?"stepped"==i?t.curves.setStepped(e):i instanceof Array&&t.curves.setCurve(e,i[0],i[1],i[2],i[3]):t.curves.setLinear(e)},toColor:function(t,e){if(8!=t.length)throw"Color hexidecimal length must be 8, recieved: "+t;return parseInt(t.substring(2*e,2*e+2),16)/255},getFloatArray:function(t,e,n){var r=t[e],a=new i.Float32Array(r.length),o=0,s=r.length;if(1==n)for(;s>o;o++)a[o]=r[o];else for(;s>o;o++)a[o]=r[o]*n;return a},getIntArray:function(t,e){for(var n=t[e],r=new i.Uint16Array(n.length),a=0,o=n.length;o>a;a++)r[a]=0|n[a];return r}},e.exports=i.SkeletonJsonParser},{"../SpineUtil":51,"./Animation":11,"./AttachmentTimeline":19,"./AttachmentType":20,"./BoneData":22,"./ColorTimeline":24,"./DrawOrderTimeline":26,"./Event":27,"./EventData":28,"./EventTimeline":29,"./FfdTimeline":30,"./FlipXTimeline":31,"./FlipYTimeline":32,"./IkConstraintData":34,"./IkConstraintTimeline":35,"./RotateTimeline":38,"./ScaleTimeline":39,"./SkeletonData":42,"./Skin":44,"./SlotData":47,"./TranslateTimeline":49}],44:[function(t,e,n){var i=t("../SpineUtil");i.Skin=function(t){this.name=t,this.attachments={}},i.Skin.prototype={addAttachment:function(t,e,n){this.attachments[t+":"+e]=n},getAttachment:function(t,e){return this.attachments[t+":"+e]},_attachAll:function(t,e){for(var n in e.attachments){var i=n.indexOf(":"),r=parseInt(n.substring(0,i)),a=n.substring(i+1),o=t.slots[r];if(o.attachment&&o.attachment.name==a){var s=this.getAttachment(r,a);s&&o.setAttachment(s)}}}},e.exports=i.Skin},{"../SpineUtil":51}],45:[function(t,e,n){var i=t("../SpineUtil")||{};i.AttachmentType=t("./AttachmentType"),i.SkinnedMeshAttachment=function(t){this.name=t},i.SkinnedMeshAttachment.prototype={type:i.AttachmentType.skinnedmesh,bones:null,weights:null,uvs:null,regionUVs:null,triangles:null,hullLength:0,r:1,g:1,b:1,a:1,path:null,rendererObject:null,regionU:0,regionV:0,regionU2:0,regionV2:0,regionRotate:!1,regionOffsetX:0,regionOffsetY:0,regionWidth:0,regionHeight:0,regionOriginalWidth:0,regionOriginalHeight:0,edges:null,width:0,height:0,updateUVs:function(t,e,n,r,a){var o=this.regionU2-this.regionU,s=this.regionV2-this.regionV,l=this.regionUVs.length;if(this.uvs&&this.uvs.length==l||(this.uvs=new i.Float32Array(l)),this.regionRotate)for(var h=0;l>h;h+=2)this.uvs[h]=this.regionU+this.regionUVs[h+1]*o,this.uvs[h+1]=this.regionV+s-this.regionUVs[h]*s;else for(var h=0;l>h;h+=2)this.uvs[h]=this.regionU+this.regionUVs[h]*o,this.uvs[h+1]=this.regionV+this.regionUVs[h+1]*s},computeWorldVertices:function(t,e,n,i){var r,a,o,s,l,h,u,c=n.bone.skeleton.bones,f=this.weights,p=this.bones,m=0,d=0,v=0,g=0,y=p.length;if(n.attachmentVertices.length)for(var x=n.attachmentVertices;y>d;m+=2){for(a=0,o=0,r=p[d++]+d;r>d;d++,v+=3,g+=2)s=c[p[d]],l=f[v]+x[g],h=f[v+1]+x[g+1],u=f[v+2],a+=(l*s.m00+h*s.m01+s.worldX)*u,o+=(l*s.m10+h*s.m11+s.worldY)*u;i[m]=a+t,i[m+1]=o+e}else for(;y>d;m+=2){for(a=0,o=0,r=p[d++]+d;r>d;d++,v+=3)s=c[p[d]],l=f[v],h=f[v+1],u=f[v+2],a+=(l*s.m00+h*s.m01+s.worldX)*u,o+=(l*s.m10+h*s.m11+s.worldY)*u;i[m]=a+t,i[m+1]=o+e}}},e.exports=i.SkinnedMeshAttachment},{"../SpineUtil":51,"./AttachmentType":20}],46:[function(t,e,n){var i=t("../SpineUtil");i.Slot=function(t,e){this.data=t,this.bone=e,this.setToSetupPose()},i.Slot.prototype={r:1,g:1,b:1,a:1,_attachmentTime:0,attachment:null,attachmentVertices:[],setAttachment:function(t){this.attachment=t,this._attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0},setAttachmentTime:function(t){this._attachmentTime=this.bone.skeleton.time-t},getAttachmentTime:function(){return this.bone.skeleton.time-this._attachmentTime},setToSetupPose:function(){var t=this.data;this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a;for(var e=this.bone.skeleton.data.slots,n=0,i=e.length;i>n;n++)if(e[n]==t){this.setAttachment(t.attachmentName?this.bone.skeleton.getAttachmentBySlotIndex(n,t.attachmentName):null);break}}},e.exports=i.Slot},{"../SpineUtil":51}],47:[function(t,e,n){var i=t("../SpineUtil");i.SlotData=function(t,e){this.name=t,this.boneData=e},i.SlotData.prototype={r:1,g:1,b:1,a:1,attachmentName:null,additiveBlending:!1},e.exports=i.SlotData},{"../SpineUtil":51}],48:[function(t,e,n){var i=t("../SpineUtil");i.TrackEntry=function(){},i.TrackEntry.prototype={next:null,previous:null,animation:null,loop:!1,delay:0,time:0,lastTime:-1,endTime:0,timeScale:1,mixTime:0,mixDuration:0,mix:1,onStart:null,onEnd:null,onComplete:null,onEvent:null},e.exports=i.TrackEntry},{"../SpineUtil":51}],49:[function(t,e,n){var i=t("../SpineUtil");i.Animation=t("./Animation"),i.Curves=t("./Curves"),i.TranslateTimeline=function(t){this.curves=new i.Curves(t),this.frames=[],this.frames.length=3*t},i.TranslateTimeline.prototype={boneIndex:0,getFrameCount:function(){return this.frames.length/3},setFrame:function(t,e,n,i){t*=3,this.frames[t]=e,this.frames[t+1]=n,this.frames[t+2]=i},apply:function(t,e,n,r,a){var o=this.frames;if(!(n<o[0])){var s=t.bones[this.boneIndex];if(n>=o[o.length-3])return s.x+=(s.data.x+o[o.length-2]-s.x)*a,void(s.y+=(s.data.y+o[o.length-1]-s.y)*a);var l=i.Animation.binarySearch(o,n,3),h=o[l-2],u=o[l-1],c=o[l],f=1-(n-c)/(o[l+-3]-c);f=this.curves.getCurvePercent(l/3-1,f),s.x+=(s.data.x+h+(o[l+1]-h)*f-s.x)*a,s.y+=(s.data.y+u+(o[l+2]-u)*f-s.y)*a}}},e.exports=i.TranslateTimeline},{"../SpineUtil":51,"./Animation":11,"./Curves":25}],50:[function(t,e,n){var i=t("../SpineUtil");i.Animation=t("./Animation"),i.AnimationStateData=t("./AnimationStateData"),i.AnimationState=t("./AnimationState"),i.AtlasAttachmentParser=t("./AtlasAttachmentParser"),i.Atlas=t("./Atlas"),i.AtlasPage=t("./AtlasPage"),i.AtlasReader=t("./AtlasReader"),i.AtlasRegion=t("./AtlasRegion"),i.AttachmentTimeline=t("./AttachmentTimeline"),i.AttachmentType=t("./AttachmentType"),i.BoneData=t("./BoneData"),i.Bone=t("./Bone"),i.BoundingBoxAttachment=t("./BoundingBoxAttachment"),i.ColorTimeline=t("./ColorTimeline"),i.Curves=t("./Curves"),i.DrawOrderTimeline=t("./DrawOrderTimeline"),i.EventData=t("./EventData"),i.Event=t("./Event"),i.EventTimeline=t("./EventTimeline"),i.FfdTimeline=t("./FfdTimeline"),i.FlipXTimeline=t("./FlipXTimeline"),i.FlipYTimeline=t("./FlipYTimeline"),i.IkConstraintData=t("./IkConstraintData"),i.IkConstraint=t("./IkConstraint"),i.IkConstraintTimeline=t("./IkConstraintTimeline"),i.MeshAttachment=t("./MeshAttachment"),i.RegionAttachment=t("./RegionAttachment"),i.RotateTimeline=t("./RotateTimeline"),i.ScaleTimeline=t("./ScaleTimeline"),i.SkeletonBounds=t("./SkeletonBounds"),i.SkeletonData=t("./SkeletonData"),i.Skeleton=t("./Skeleton"),i.SkeletonJsonParser=t("./SkeletonJsonParser"),i.Skin=t("./Skin.js"),i.SkinnedMeshAttachment=t("./SkinnedMeshAttachment"),i.SlotData=t("./SlotData"),i.Slot=t("./Slot"),i.TrackEntry=t("./TrackEntry"),i.TranslateTimeline=t("./TranslateTimeline"),e.exports=i},{"../SpineUtil":51,"./Animation":11,"./AnimationState":12,"./AnimationStateData":13,"./Atlas":14,"./AtlasAttachmentParser":15,"./AtlasPage":16,"./AtlasReader":17,"./AtlasRegion":18,"./AttachmentTimeline":19,"./AttachmentType":20,"./Bone":21,"./BoneData":22,"./BoundingBoxAttachment":23,"./ColorTimeline":24,"./Curves":25,"./DrawOrderTimeline":26,"./Event":27,"./EventData":28,"./EventTimeline":29,"./FfdTimeline":30,"./FlipXTimeline":31,"./FlipYTimeline":32,"./IkConstraint":33,"./IkConstraintData":34,"./IkConstraintTimeline":35,"./MeshAttachment":36,"./RegionAttachment":37,"./RotateTimeline":38,"./ScaleTimeline":39,"./Skeleton":40,"./SkeletonBounds":41,"./SkeletonData":42,"./SkeletonJsonParser":43,"./Skin.js":44,"./SkinnedMeshAttachment":45,"./Slot":46,"./SlotData":47,"./TrackEntry":48,"./TranslateTimeline":49}],51:[function(t,e,n){e.exports={radDeg:180/Math.PI,degRad:Math.PI/180,temp:[],Float32Array:"undefined"==typeof Float32Array?Array:Float32Array,Uint16Array:"undefined"==typeof Uint16Array?Array:Uint16Array}},{}],52:[function(t,e,n){function i(t){if(r.Container.call(this),!t)throw new Error("The spineData param is required.");this.spineData=t,this.skeleton=new a.Skeleton(t),this.skeleton.updateWorldTransform(),this.stateData=new a.AnimationStateData(t),this.state=new a.AnimationState(this.stateData),this.slotContainers=[];for(var e=0,n=this.skeleton.slots.length;n>e;e++){var i=this.skeleton.slots[e],o=i.attachment,s=new r.Container;if(this.slotContainers.push(s),this.addChild(s),o instanceof a.RegionAttachment){var l=o.rendererObject.name,h=this.createSprite(i,o);i.currentSprite=h,i.currentSpriteName=l,s.addChild(h)}else{if(!(o instanceof a.MeshAttachment))continue;var u=this.createMesh(i,o);i.currentMesh=u,i.currentMeshName=o.name,s.addChild(u)}}this.autoUpdate=!0}var r=t("pixi.js"),a=t("../SpineRuntime");a.Bone.yDown=!0,i.prototype=Object.create(r.Container.prototype),i.prototype.constructor=i,e.exports=i,Object.defineProperties(i.prototype,{autoUpdate:{get:function(){return this.updateTransform===i.prototype.autoUpdateTransform},set:function(t){this.updateTransform=t?i.prototype.autoUpdateTransform:r.Container.prototype.updateTransform}}}),i.prototype.update=function(t){this.state.update(t),this.state.apply(this.skeleton),this.skeleton.updateWorldTransform();for(var e=this.skeleton.drawOrder,n=this.skeleton.slots,i=0,o=e.length;o>i;i++)this.children[i]=this.slotContainers[e[i]];for(i=0,o=n.length;o>i;i++){var s=n[i],l=s.attachment,h=this.slotContainers[i];if(l){var u=l.type;if(u===a.AttachmentType.region){if(l.rendererObject&&(!s.currentSpriteName||s.currentSpriteName!==l.rendererObject.name)){var c=l.rendererObject.name;if(void 0!==s.currentSprite&&(s.currentSprite.visible=!1),s.sprites=s.sprites||{},void 0!==s.sprites[c])s.sprites[c].visible=!0;else{var f=this.createSprite(s,l);h.addChild(f)}s.currentSprite=s.sprites[c],s.currentSpriteName=c}var p=s.bone;h.position.x=p.worldX+l.x*p.m00+l.y*p.m01,h.position.y=p.worldY+l.x*p.m10+l.y*p.m11,h.scale.x=p.worldScaleX,h.scale.y=p.worldScaleY,h.rotation=-(s.bone.worldRotation*a.degRad),s.currentSprite.tint=r.utils.rgb2hex([s.r,s.g,s.b])}else{if(u!==a.AttachmentType.skinnedmesh){h.visible=!1;continue}if(!s.currentMeshName||s.currentMeshName!==l.name){var m=l.name;if(void 0!==s.currentMesh&&(s.currentMesh.visible=!1),s.meshes=s.meshes||{},void 0!==s.meshes[m])s.meshes[m].visible=!0;else{var d=this.createMesh(s,l);h.addChild(d)}s.currentMesh=s.meshes[m],s.currentMeshName=m}l.computeWorldVertices(s.bone.skeleton.x,s.bone.skeleton.y,s,s.currentMesh.vertices)}h.visible=!0,h.alpha=s.a}else h.visible=!1}},i.prototype.autoUpdateTransform=function(){this.lastTime=this.lastTime||Date.now();var t=.001*(Date.now()-this.lastTime);this.lastTime=Date.now(),this.update(t),r.Container.prototype.updateTransform.call(this)},i.prototype.createSprite=function(t,e){var n=e.rendererObject,i=n.page.rendererObject,o=new r.math.Rectangle(n.x,n.y,n.rotate?n.height:n.width,n.rotate?n.width:n.height),s=new r.Texture(i,o),l=new r.Sprite(s),h=n.rotate?.5*Math.PI:0;return l.scale.x=n.width/n.originalWidth*e.scaleX,l.scale.y=n.height/n.originalHeight*e.scaleY,l.rotation=h-e.rotation*a.degRad,l.anchor.x=l.anchor.y=.5,l.alpha=e.a,t.sprites=t.sprites||{},t.sprites[n.name]=l,l},i.prototype.createMesh=function(t,e){var n=e.rendererObject,i=n.page.rendererObject,a=new r.Texture(i),o=new r.Strip(a);return o.drawMode=r.Strip.DRAW_MODES.TRIANGLES,o.canvasPadding=1.5,o.vertices=new Float32Array(e.uvs.length),o.uvs=e.uvs,o.indices=e.triangles,o.alpha=e.a,t.meshes=t.meshes||{},t.meshes[e.name]=o,o}},{"../SpineRuntime":50,"pixi.js":"pixi.js"}],53:[function(t,e,n){function i(t,e){a.loaders.Loader.call(this,t,e),this.use(r())}var r=t("./atlasParser"),a=t("pixi.js");i.prototype=Object.create(a.loaders.Loader.prototype),i.prototype.constructor=i,e.exports=i},{"./atlasParser":54,"pixi.js":"pixi.js"}],54:[function(t,e,n){var i=t("resource-loader").Resource,r=t("async"),a=t("../SpineRuntime");e.exports=function(){return function(t,e){if(!t.data||!t.isJson||!t.data.bones)return e();var n=t.url.substr(0,t.url.lastIndexOf("."))+".atlas",o={crossOrigin:t.crossOrigin,xhrType:i.XHR_RESPONSE_TYPE.TEXT},s=t.url.substr(0,t.url.lastIndexOf("/")+1);this.add(t.name+"_atlas",n,o,function(n){var i=new a.Atlas(this.xhr.responseText,s,n.crossOrigin),o=new a.SkeletonJsonParser(new a.AtlasAttachmentParser(i)),l=o.readSkeletonData(t.data);t.spineData=l,t.spineAtlas=i,r.each(i.pages,function(t,e){t.rendererObject.hasLoaded?e():t.rendererObject.once("loaded",e)},e)})}}},{"../SpineRuntime":50,async:2,"resource-loader":8}],55:[function(t,e,n){e.exports={atlasParser:t("./atlasParser"),Loader:t("./Loader")}},{"./Loader":53,"./atlasParser":54}]},{},[1]);